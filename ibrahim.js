//'use strict';const _0x29290a=_0x1a6e;function _0x1a6e(_0x509d33,_0x41f4a4){const _0x188a18=_0x188a();return _0x1a6e=function(_0x1a6ede,_0x20e729){_0x1a6ede=_0x1a6ede-0xd8;let _0x1cab60=_0x188a18[_0x1a6ede];return _0x1cab60;},_0x1a6e(_0x509d33,_0x41f4a4);}(function(_0x1bfbd3,_0x331cab){const _0x3c6f74=_0x1a6e,_0x43c6c6=_0x1bfbd3();while(!![]){try{const _0x5dcdd7=parseInt(_0x3c6f74(0x1ca))/0x1+parseInt(_0x3c6f74(0x13e))/0x2*(parseInt(_0x3c6f74(0x114))/0x3)+parseInt(_0x3c6f74(0x180))/0x4+-parseInt(_0x3c6f74(0xdb))/0x5+-parseInt(_0x3c6f74(0x176))/0x6*(-parseInt(_0x3c6f74(0x1a2))/0x7)+-parseInt(_0x3c6f74(0x1e6))/0x8*(parseInt(_0x3c6f74(0x154))/0x9)+-parseInt(_0x3c6f74(0x167))/0xa;if(_0x5dcdd7===_0x331cab)break;else _0x43c6c6['push'](_0x43c6c6['shift']());}catch(_0x4e8a4a){_0x43c6c6['push'](_0x43c6c6['shift']());}}}(_0x188a,0x53526));function _0x188a(){const _0xa68033=['Options\x20must\x20be\x20an\x20object','concat','session','ðŸ·ï¸','trim','owner','type','status','bot\x20detected\x20;you\x20will\x20be\x20remove\x20because\x20of\x20reaching\x20warn-limit','ðŸ˜¡ðŸ˜¡\x20','keys','....\x20','protocolMessage','bot\x20detected,\x20\x0a','FULL','\x20has\x20violated\x20the\x20anti-promotion\x20rule,\x20therefore\x20both\x20','message','match','loadMessage','mentionedJid','Filter\x20must\x20be\x20a\x20function','yes','toLocaleLowerCase','Message\x20not\x20found','__setModuleDefault','Africa/Nairobi','action','downloadAndSaveMediaMessage','readdirSync','AUTO_READ_STATUS','audio/mp4','error','The\x20creams\x20were\x20not\x20activated','warn','639179yeRfJe','create','Message\x20delete\x20about\x20me','restartRequired','selectedRowId','\x20H\x20','cache','st1.webp','from','mtype','participants','AUTO_DOWNLOAD_STATUS','contacts.upsert','downloadContentFromMessage','DisconnectReason','__createBinding','connected\x20successfully...','author','fromBuffer','\x20could\x20not\x20be\x20loaded\x20for\x20the\x20following\x20reasons\x20:\x20','buttonsResponseMessage','*ðŸ“–Deleted\x20Message:*\x20','assign','notify','wa-sticker-formatter','goodbye','full','âœ…\x20Popkid\x20Md\x20connected\x20successfullyâ˜ºï¸','16nlJjcM','creds','\x20sending\x20group\x20links\x20is\x20prohibited!','á´˜á´á´˜á´‹Éªá´…\x20xá´›á´‡á´„Êœ\x20Éªs\x20á´„á´É´É´á´‡á´„á´›á´‡á´…\x0a\x0aá´á´á´…á´‡\x20:','restarting\x20on\x20the\x20error\x20stroke\x20','number','AUTO_READ_MESSAGES','------end\x20of\x20your\x20messages\x20------','*ðŸ‘¤Deleted\x20By:*\x20@','audioMessage','OWNER_NAME','ðŸ—ï¸','string','fs-extra','medium','recupererToutesLesValeurs','makeInMemoryStore','stickerMessage','Sender\x20must\x20be\x20a\x20string','BAE5','ðŸŽžï¸','Boom','safari','chargement\x20des\x20plugins\x20...\x0a','./bdd/cron','defineProperty','URL','sendMessage','message\x20deleted\x20\x0a\x20@','welcome','message\x20from\x20:\x20','antipromote','fromMe','./media/chrono.webp','subject','254732297194','ChatJid\x20must\x20be\x20a\x20string','catch','bot\x20detected\x20,\x20your\x20warn_count\x20was\x20upgrade\x20;\x0a\x20rest\x20:\x20','ADMGROUP','getContentType','BELTAH-MD','/commandes/','contextInfo','nomCom','remoteJid','\x20has\x20violated\x20the\x20anti-demotion\x20rule\x20by\x20removing\x20@','/framework/app','quotedMessage','connecting','@hapi/boom','groupMetadata','Beltah-Md','*[\x20á´á´‡ssá´€É¢á´‡\x20á´…á´‡ÊŸá´‡á´›Éªá´É´\x20á´…á´‡á´›á´‡á´„á´›á´‡á´…\x20]*\x0a\x0a','ETAT','toLowerCase','ADM','connection\x20errorðŸ˜ž\x20,,popkid\x20trying\x20to\x20reconnect...\x20','length','key','videoMessage','------','zokk','hum\x20','https://','messages.upsert','path','parse','link\x20detected\x20,\x20you\x20will\x20be\x20remove\x20because\x20of\x20reaching\x20warn-limit','delete','conversation','singleSelectReply','unwatchFile','\x20Loaded\x20successfully\x20by\x20Popkidâœ”ï¸','./bdd/banGroup','connectionReplaced','random','filter','Message','1334265qQXpmN','@g.us','forEach','viewOnceMessageV2','resolve','set','fetchLatestBaileysVersion','document','Message\x20deleted','startsWith','chatJid','I\x20do\x20nothing','unavailable','format','endsWith','Removed!\x0a\x0a@','Another\x20fellah\x20didn\x27t\x20feel\x20safe\x20here...;\x0a','\x20Popkid-md\x20loading\x20pluginsðŸ˜‡\x0a\x0a','mimetype','slice','function','find','msg','rejectCall','shift','chats','/auth/creds.json','get','status@broadcast','sender','map','session\x20disconnected,,,\x20replace\x20a\x20new\x20session\x20id','update\x20','Cas\x20de\x20superUser\x20je\x20fais\x20rien','writable','mention\x20pas\x20actifs','output','public','server','image','default','An\x20Error\x20Occurred,\x20Repeat\x20Command!','reaction','\x20*@','You\x20might\x20want\x20to\x20read\x20the\x20group\x20Description\x20to\x20avoid\x20getting\x20removed...\x0a>\x20á´˜á´á´¡á´‡Ê€á´‡á´…\x20Ê™Ê\x20á´˜á´á´˜á´‹Éªá´…\x20Êœá´€á´„á´‹ÉªÉ´É¢\x20á´›á´‡á´€á´..','ANTIDELETEDM','test','===========\x20New\x20message\x20===========','listResponseMessage','viewOnceMessageV2Extension','__esModule','pushName','Error\x20downloading\x20media:','_Group\x20link\x20detected_','promote','jidDecode','\x0aá´˜Ê€á´‡Ò“Éªx\x20:\x20[\x20','279TPrgDT','@whiskeysockets/baileys','utf8','12345','------------------/-----','off','sticker','groupParticipantsUpdate','readFileSync','statusCode','pino','254748851027','ANTILINK','badSession','profilePictureUrl','documentMessage','254111385747','2-digit','./bdd/warn','1.0.0','schedule','extendedTextMessage','NUMERO_OWNER','connectionLost','PM_PERMIT','updateProfileStatus','------------------Media------sent--------------------','timeout','extname','readMessages','user','non','\x20removed\x20because\x20of\x20spamming\x20in\x20group','./store.json','includes','\x09\x20[][]...{popkid-Md}...[][]','BAES','*sá´Ê€Ê€Ê!!\x20É´á´\x20á´„á´€ÊŸÊŸs\x20á´€ÊŸÊŸá´á´¡á´‡á´…,\x20á´‹ÉªÉ´á´…ÊŸÊ\x20á´›á´‡xá´›.*\x0a\x0a>\x20á´˜á´á´¡á´‡Ê€á´‡á´…\x20Ê™Ê\x20á´˜á´á´˜á´‹Éªá´…\x20Êœá´€á´„á´‹ÉªÉ´É¢\x20á´›á´‡á´€á´.','254114141192','Establishment\x20of\x20one\x20fall\x20to\x20','./bdd/antilien','open','912RkslJf','__importStar','video','recording','selectedButtonId','#000000','ðŸ–Œï¸','AUTO_BIO','existsSync','Session\x20Invalid\x20','getOwnPropertyDescriptor','available','toFile','writeFileSync','contacts','awaitForMessage','https://telegra.ph/file/dcce2ddee6cc7597c859a.jpg','then','/framework/zokou','call','Auto-reply\x20message\x20has\x20been\x20updated\x20to:\x0a\x22','push','917883GBnVTV','en-KE','watchFile','remove','groupeAdmin','split','imageMessage','has','not_announcement','*\x20Welcome\x20to\x20Our\x20Official\x20Group,','prototype','DateTimeFormat','toBuffer','/commandes','antidemote','replace','link\x20detected!!\x0a','Wrong\x20session\x20Id\x20format,\x20rescan\x20again...','ANTICALL','6866680ieOcxJ','log','ðŸ›°ï¸','connectionClosed','superUser','participant','â€‹\x0a\x20ð“ð‡ð„\x20ðƒð„ð‹ð„ð“ð„ðƒ\x20ðŒð„ð’ð’ð€ð†ð„\x20ðˆð’\x20ð‡ð„ð‘ð„\x20ðŸ‘‡','\x20removed\x20from\x20group.','delay','audio','\x0a\x0a>\x20á´˜á´á´¡á´‡Ê€á´‡á´…\x20Ê™Ê\x20á´˜á´á´˜á´‹Éªá´…\x20Êœá´€á´„á´‹ÉªÉ´É¢\x20á´›á´‡á´€á´.','mute_at','unlink','./bdd/onlyAdmin','\x20*\x20*\x20*','242706WYbLDG','url','Restarting\x20in\x20progress\x20â–¶\x20ï¸','configurable','pm2\x20restart\x20all','antispam','\x20]\x0aá´˜ÊŸá´œÉ¢ÉªÉ´s\x20:456\x0aá´…á´‡á´ á´‡ÊŸá´á´˜á´‡Ê€\x20:\x20á´˜á´á´˜á´‹Éªá´…\x20á´›á´‡á´„Êœ\x20ðŸ‘»\x0a\x0aá´¡á´€á´›á´„Êœ\x20á´€ÊŸÊŸ\x20á´›á´œá´›á´Ê€Éªá´€ÊŸs\x0ayoutube.com/@Popkid2024','@s.whatsapp.net','./bdd/sudo','announcement','2136148zScqux','MODE','admin','voiceMessage','Good\x20morning;\x20It\x27s\x20time\x20to\x20open\x20the\x20group.','group_id','messages','setautoreply','silent','store','WARN_COUNT','text','chat.whatsapp.com','Error\x20handling\x20deleted\x20message:','unmute_at','demote','caption','close','numeric','level','á´›Êœá´‡\x20á´á´¡É´á´‡Ê€\x20Éªs\x20á´„á´œÊ€Ê€á´‡É´á´›ÊŸÊ\x20á´œÉ´á´€á´ á´€ÉªÊŸá´€Ê™ÊŸá´‡,,á´›Êœá´€É´á´‹\x20Êá´á´œ\x20Ò“á´Ê€\x20Êá´á´œÊ€\x20á´á´‡ssá´€É¢á´‡.\x20á´¡á´‡\x20á´¡ÉªÊŸÊŸ\x20Ê€á´‡sá´˜á´É´á´…\x20sá´á´É´.\x0a\x0a>\x20á´˜á´á´¡á´‡Ê€á´‡á´…\x20Ê™Ê\x20á´˜á´á´˜á´‹Éªá´…\x20Êœá´€á´„á´‹ÉªÉ´É¢\x20á´›á´‡á´€á´.','axios','groupSettingUpdate','https://raw.githubusercontent.com/djalega8000/Zokou-MD/main/media/remover.gif','s.whatsapp.net','sendPresenceUpdate','ðŸ—ï¸','â›“ï¸â€ðŸ’¥','I\x20do\x20not\x20react\x20to\x20reactions','creds.update','viewOnceMessage','add','./bdd/welcome','NOM_OWNER','49UNGWRK','bind','ðŸ—³ï¸','useMultiFileAuthState','\x20avoid\x20sending\x20link.','.\x20Consequently,\x20he\x20has\x20been\x20stripped\x20of\x20administrative\x20rights.'];_0x188a=function(){return _0xa68033;};return _0x188a();}var __createBinding=this&&this[_0x29290a(0x1d9)]||(Object['create']?function(_0x9f7e91,_0x3f4497,_0x26cfa1,_0x1eed54){const _0x17795f=_0x29290a;if(_0x1eed54===undefined)_0x1eed54=_0x26cfa1;var _0x966bc8=Object[_0x17795f(0x148)](_0x3f4497,_0x26cfa1);(!_0x966bc8||(_0x17795f(0xf6)in _0x966bc8?!_0x3f4497[_0x17795f(0x10d)]:_0x966bc8[_0x17795f(0xfd)]||_0x966bc8[_0x17795f(0x179)]))&&(_0x966bc8={'enumerable':!![],'get':function(){return _0x3f4497[_0x26cfa1];}}),Object[_0x17795f(0x1ff)](_0x9f7e91,_0x1eed54,_0x966bc8);}:function(_0x3dbe8e,_0x12e819,_0x29fb82,_0x3ba286){if(_0x3ba286===undefined)_0x3ba286=_0x29fb82;_0x3dbe8e[_0x3ba286]=_0x12e819[_0x29fb82];}),__setModuleDefault=this&&this[_0x29290a(0x1c0)]||(Object[_0x29290a(0x1cb)]?function(_0x116a58,_0xa0b2b3){const _0x33167b=_0x29290a;Object[_0x33167b(0x1ff)](_0x116a58,_0x33167b(0x103),{'enumerable':!![],'value':_0xa0b2b3});}:function(_0x390913,_0x480151){const _0x32de6c=_0x29290a;_0x390913[_0x32de6c(0x103)]=_0x480151;}),__importStar=this&&this[_0x29290a(0x13f)]||function(_0x147986){const _0x34364c=_0x29290a;if(_0x147986&&_0x147986['__esModule'])return _0x147986;var _0x1927b0={};if(_0x147986!=null){for(var _0xf44fb8 in _0x147986)if(_0xf44fb8!==_0x34364c(0x103)&&Object[_0x34364c(0x15e)]['hasOwnProperty'][_0x34364c(0x151)](_0x147986,_0xf44fb8))__createBinding(_0x1927b0,_0x147986,_0xf44fb8);}return __setModuleDefault(_0x1927b0,_0x147986),_0x1927b0;},__importDefault=this&&this['__importDefault']||function(_0x79157b){const _0x50492c=_0x29290a;return _0x79157b&&_0x79157b[_0x50492c(0x10d)]?_0x79157b:{'default':_0x79157b};};Object['defineProperty'](exports,_0x29290a(0x10d),{'value':!![]});const baileys_1=__importStar(require(_0x29290a(0x115))),logger_1=__importDefault(require('@whiskeysockets/baileys/lib/Utils/logger')),logger=logger_1[_0x29290a(0x103)]['child']({});logger[_0x29290a(0x193)]=_0x29290a(0x188);const pino=require(_0x29290a(0x11e)),boom_1=require(_0x29290a(0x218)),conf=require('./set'),axios=require(_0x29290a(0x195));let fs=require(_0x29290a(0x1f3)),path=require(_0x29290a(0x228));const FileType=require('file-type'),{Sticker,createSticker,StickerTypes}=require(_0x29290a(0x1e2)),{verifierEtatJid,recupererActionJid}=require(_0x29290a(0x13c)),{atbverifierEtatJid,atbrecupererActionJid}=require('./bdd/antibot');let evt=require(__dirname+_0x29290a(0x150));const {isUserBanned,addUserToBanList,removeUserFromBanList}=require('./bdd/banUser'),{addGroupToBanList,isGroupBanned,removeGroupFromBanList}=require(_0x29290a(0x230)),{isGroupOnlyAdmin,addGroupToOnlyAdminList,removeGroupFromOnlyAdminList}=require(_0x29290a(0x174));let {reagir}=require(__dirname+_0x29290a(0x215));var session=conf[_0x29290a(0x1aa)]['replace'](/BELTAH-MD;;;=>/g,'');const prefixe=conf['PREFIXE'];async function authentification(){const _0x2b3e16=_0x29290a;try{if(!fs['existsSync'](__dirname+'/auth/creds.json'))console[_0x2b3e16(0x168)](_0x2b3e16(0x1da)),await fs['writeFileSync'](__dirname+'/auth/creds.json',atob(session),_0x2b3e16(0x116));else fs[_0x2b3e16(0x146)](__dirname+_0x2b3e16(0xf5))&&session!=_0x2b3e16(0x224)&&await fs[_0x2b3e16(0x14b)](__dirname+_0x2b3e16(0xf5),atob(session),_0x2b3e16(0x116));}catch(_0x45e319){console['log'](_0x2b3e16(0x147)+_0x45e319);return;}}authentification();const store=(0x0,baileys_1[_0x29290a(0x1f6)])({'logger':pino()['child']({'level':_0x29290a(0x188),'stream':_0x29290a(0x189)})});setTimeout(()=>{const _0x262440=_0x29290a;async function _0x20ab4e(){const _0x81d5f4=_0x1a6e,{version:_0x5862c0,isLatest:_0x211bbc}=await(0x0,baileys_1[_0x81d5f4(0xe1)])(),{state:_0x414853,saveCreds:_0x1435af}=await(0x0,baileys_1[_0x81d5f4(0x1a5)])(__dirname+'/auth'),_0x4fca06={'version':_0x5862c0,'logger':pino({'level':_0x81d5f4(0x188)}),'browser':[_0x81d5f4(0x20f),_0x81d5f4(0x1fc),_0x81d5f4(0x127)],'printQRInTerminal':!![],'fireInitQueries':![],'shouldSyncHistoryMessage':!![],'downloadHistory':!![],'syncFullHistory':!![],'generateHighQualityLinkPreview':!![],'markOnlineOnConnect':![],'keepAliveIntervalMs':0x7530,'auth':{'creds':_0x414853[_0x81d5f4(0x1e7)],'keys':(0x0,baileys_1['makeCacheableSignalKeyStore'])(_0x414853[_0x81d5f4(0x1b2)],logger)},'getMessage':async _0xb83d6a=>{const _0x46b3ad=_0x81d5f4;if(store){const _0x29370e=await store[_0x46b3ad(0x1ba)](_0xb83d6a['remoteJid'],_0xb83d6a['id'],undefined);return _0x29370e[_0x46b3ad(0x1b8)]||undefined;}return{'conversation':_0x46b3ad(0x104)};}},_0x1b5e84=(0x0,baileys_1[_0x81d5f4(0x103)])(_0x4fca06);store[_0x81d5f4(0x1a3)](_0x1b5e84['ev']);function _0x5a7b76(){const _0x208499=_0x81d5f4,_0x51600={'timeZone':_0x208499(0x1c1),'year':_0x208499(0x192),'month':'2-digit','day':_0x208499(0x125),'hour':_0x208499(0x125),'minute':_0x208499(0x125),'second':'2-digit','hour12':![]},_0x44ee5d=new Intl[(_0x208499(0x15f))](_0x208499(0x155),_0x51600)[_0x208499(0xe8)](new Date());return _0x44ee5d;}setInterval(async()=>{const _0x11c6c0=_0x81d5f4;if(conf[_0x11c6c0(0x145)]==='yes'){const _0x4a8f21=_0x5a7b76(),_0x47e117='ðŸ‘»\x20á´˜á´á´˜á´‹Éªá´…\x20x-á´›á´‡á´„Êœ\x20ðŸ‘»\x20Éªs\x20á´É´ÊŸÉªÉ´á´‡\x20:\x20'+_0x4a8f21;await _0x1b5e84[_0x11c6c0(0x12d)](_0x47e117),console[_0x11c6c0(0x168)]('Updated\x20Bio:\x20'+_0x47e117);}},0xea60),_0x1b5e84['ev']['on'](_0x81d5f4(0x151),async _0x2a0ed1=>{const _0x3489e7=_0x81d5f4;if(conf[_0x3489e7(0x166)]===_0x3489e7(0x1bd)){const _0x2fe36f=_0x2a0ed1[0x0]['id'],_0x501679=_0x2a0ed1[0x0][_0x3489e7(0x1d2)];await _0x1b5e84[_0x3489e7(0xf2)](_0x2fe36f,_0x501679),await _0x1b5e84[_0x3489e7(0x201)](_0x501679,{'text':_0x3489e7(0x139)});}});let _0x5a5bf6=_0x81d5f4(0x194),_0x45cad2=new Set();_0x1b5e84['ev']['on']('messages.upsert',async _0x50c0f7=>{const _0x3060a9=_0x81d5f4,{messages:_0x3e5520}=_0x50c0f7,_0x496ca8=_0x3e5520[0x0];if(!_0x496ca8[_0x3060a9(0x1b8)])return;const _0x2cab38=_0x496ca8[_0x3060a9(0x1b8)][_0x3060a9(0x22c)]||_0x496ca8['message']['extendedTextMessage']?.[_0x3060a9(0x18b)],_0x2cd4bf=_0x496ca8[_0x3060a9(0x221)][_0x3060a9(0x213)];if(_0x2cab38&&_0x2cab38[_0x3060a9(0x1b9)](/^[^\w\s]/)&&_0x496ca8[_0x3060a9(0x221)][_0x3060a9(0x206)]){const _0x11d5fd=_0x2cab38[0x0],_0x15c8dc=_0x2cab38['slice'](0x1)[_0x3060a9(0x159)]('\x20')[0x0],_0x33ff69=_0x2cab38[_0x3060a9(0xee)](_0x11d5fd['length']+_0x15c8dc[_0x3060a9(0x220)])[_0x3060a9(0x1ac)]();if(_0x15c8dc===_0x3060a9(0x187)&&_0x33ff69){_0x5a5bf6=_0x33ff69,await _0x1b5e84[_0x3060a9(0x201)](_0x2cd4bf,{'text':_0x3060a9(0x152)+_0x5a5bf6+'\x22'});return;}}conf['AUTO_REPLY']===_0x3060a9(0x1bd)&&!_0x45cad2[_0x3060a9(0x15b)](_0x2cd4bf)&&!_0x496ca8[_0x3060a9(0x221)]['fromMe']&&!_0x2cd4bf[_0x3060a9(0x136)](_0x3060a9(0xdc))&&(await _0x1b5e84['sendMessage'](_0x2cd4bf,{'text':_0x5a5bf6}),_0x45cad2[_0x3060a9(0x19f)](_0x2cd4bf));});async function _0x2d6fc2(_0x414c7d){const _0x2bb284=_0x81d5f4,_0x5550b3=Object[_0x2bb284(0x1b2)](_0x414c7d)[0x0][_0x2bb284(0x163)](_0x2bb284(0xda),'');try{const _0x164805=await _0x1b5e84[_0x2bb284(0x1d7)](_0x414c7d[_0x5550b3],_0x5550b3);let _0x1a1ecf=Buffer[_0x2bb284(0x1d2)]([]);for await(const _0x5a9b20 of _0x164805){_0x1a1ecf=Buffer[_0x2bb284(0x1a9)]([_0x1a1ecf,_0x5a9b20]);}return _0x1a1ecf;}catch(_0x2561e7){return console[_0x2bb284(0x1c7)](_0x2bb284(0x10f),_0x2561e7),null;}}function _0x214f8c(_0xa364f6){const _0x51ff40=_0x81d5f4,_0x4706a2=_0xa364f6['key'][_0x51ff40(0x16c)]||_0xa364f6[_0x51ff40(0x221)]['remoteJid'],_0x2e8a3f=new Intl['DateTimeFormat']('en-KE',{'timeZone':_0x51ff40(0x1c1),'dateStyle':_0x51ff40(0x1e4),'timeStyle':_0x51ff40(0x1f4)})[_0x51ff40(0xe8)](new Date());let _0x5ca4c4=_0x51ff40(0x21b);return _0x5ca4c4+='*âŒšDeletion\x20Time:*\x20'+_0x2e8a3f+'\x0a',_0x5ca4c4+=_0x51ff40(0x1ee)+_0x4706a2[_0x51ff40(0x159)]('@')[0x0]+'\x0a\x0a',_0x5ca4c4;}_0x1b5e84['ev']['on'](_0x81d5f4(0x227),async _0x2614cb=>{const _0x428938=_0x81d5f4;if(conf[_0x428938(0x108)]===_0x428938(0x1bd)){const {messages:_0x2d4d58}=_0x2614cb,_0x5769c6=_0x2d4d58[0x0];if(!_0x5769c6[_0x428938(0x1b8)])return;const _0x4e9ca6=_0x5769c6[_0x428938(0x221)],_0x32af4a=_0x4e9ca6[_0x428938(0x213)];!store['chats'][_0x32af4a]&&(store[_0x428938(0xf4)][_0x32af4a]=[]);store[_0x428938(0xf4)][_0x32af4a]['push'](_0x5769c6);if(_0x5769c6[_0x428938(0x1b8)][_0x428938(0x1b4)]&&_0x5769c6[_0x428938(0x1b8)][_0x428938(0x1b4)][_0x428938(0x1ae)]===0x0){const _0x4ed210=_0x5769c6[_0x428938(0x1b8)][_0x428938(0x1b4)]['key'],_0x5cde10=store[_0x428938(0xf4)][_0x32af4a],_0x5ac612=_0x5cde10['find'](_0x3a2912=>_0x3a2912[_0x428938(0x221)]['id']===_0x4ed210['id']);if(_0x5ac612)try{const _0x2ec8a7=_0x214f8c(_0x5ac612),_0x5e2657=Object[_0x428938(0x1b2)](_0x5ac612[_0x428938(0x1b8)])[0x0];if(_0x5e2657==='conversation'||_0x5e2657===_0x428938(0x129))await _0x1b5e84[_0x428938(0x201)](_0x1b5e84['user']['id'],{'text':_0x2ec8a7+('*Message:*\x20'+_0x5ac612[_0x428938(0x1b8)][_0x5e2657][_0x428938(0x18b)]+_0x428938(0x171)),'mentions':[_0x5ac612[_0x428938(0x221)][_0x428938(0x16c)]]});else{if(_0x5e2657==='imageMessage'||_0x5e2657==='videoMessage'||_0x5e2657===_0x428938(0x123)||_0x5e2657==='audioMessage'||_0x5e2657===_0x428938(0x1f7)||_0x5e2657===_0x428938(0x183)){const _0x37a02d=await _0x2d6fc2(_0x5ac612[_0x428938(0x1b8)]);if(_0x37a02d){const _0x20ef33=_0x5e2657[_0x428938(0x163)](_0x428938(0xda),'')[_0x428938(0x21d)]();await _0x1b5e84[_0x428938(0x201)](_0x1b5e84[_0x428938(0x132)]['id'],{[_0x20ef33]:_0x37a02d,'caption':_0x2ec8a7,'mentions':[_0x5ac612[_0x428938(0x221)][_0x428938(0x16c)]]});}}}}catch(_0x20df72){console[_0x428938(0x1c7)](_0x428938(0x18d),_0x20df72);}}}}),_0x1b5e84['ev']['on']('messages.upsert',async _0x54992d=>{const _0x2b7719=_0x81d5f4;if(conf[_0x2b7719(0x20d)]===_0x2b7719(0x1bd)){const {messages:_0x2cb584}=_0x54992d,_0x36fac4=_0x2cb584[0x0];if(!_0x36fac4[_0x2b7719(0x1b8)])return;const _0x28bda3=_0x36fac4[_0x2b7719(0x221)],_0x390101=_0x28bda3[_0x2b7719(0x213)];!store[_0x2b7719(0xf4)][_0x390101]&&(store[_0x2b7719(0xf4)][_0x390101]=[]);store['chats'][_0x390101]['push'](_0x36fac4);if(_0x36fac4[_0x2b7719(0x1b8)][_0x2b7719(0x1b4)]&&_0x36fac4[_0x2b7719(0x1b8)]['protocolMessage'][_0x2b7719(0x1ae)]===0x0){const _0x9b1424=_0x36fac4[_0x2b7719(0x1b8)][_0x2b7719(0x1b4)][_0x2b7719(0x221)],_0x389205=store['chats'][_0x390101],_0x31b072=_0x389205[_0x2b7719(0xf0)](_0x237f8c=>_0x237f8c[_0x2b7719(0x221)]['id']===_0x9b1424['id']);if(_0x31b072)try{const _0xa4be9f=_0x214f8c(_0x31b072);if(_0x31b072[_0x2b7719(0x1b8)]['conversation'])await _0x1b5e84[_0x2b7719(0x201)](_0x390101,{'text':_0xa4be9f+(_0x2b7719(0x1df)+_0x31b072['message'][_0x2b7719(0x22c)]+_0x2b7719(0x171)),'mentions':[_0x31b072['key'][_0x2b7719(0x16c)]]});else{if(_0x31b072['message']['imageMessage']||_0x31b072['message'][_0x2b7719(0x222)]||_0x31b072[_0x2b7719(0x1b8)]['documentMessage']||_0x31b072[_0x2b7719(0x1b8)]['audioMessage']||_0x31b072[_0x2b7719(0x1b8)][_0x2b7719(0x1f7)]||_0x31b072[_0x2b7719(0x1b8)][_0x2b7719(0x183)]){const _0x1017f5=await _0x2d6fc2(_0x31b072[_0x2b7719(0x1b8)]);if(_0x1017f5){const _0x5af887=_0x31b072[_0x2b7719(0x1b8)][_0x2b7719(0x15a)]?_0x2b7719(0x102):_0x31b072['message'][_0x2b7719(0x222)]?_0x2b7719(0x140):_0x31b072[_0x2b7719(0x1b8)][_0x2b7719(0x123)]?_0x2b7719(0xe2):_0x31b072[_0x2b7719(0x1b8)][_0x2b7719(0x1ef)]?_0x2b7719(0x170):_0x31b072['message']['stickerMessage']?_0x2b7719(0x11a):_0x2b7719(0x170);await _0x1b5e84['sendMessage'](_0x390101,{[_0x5af887]:_0x1017f5,'caption':_0xa4be9f,'mentions':[_0x31b072[_0x2b7719(0x221)][_0x2b7719(0x16c)]]});}}}}catch(_0x8b1c44){console['error']('Error\x20handling\x20deleted\x20message:',_0x8b1c44);}}}});const _0x5a1671=_0x226eed=>new Promise(_0x32469f=>setTimeout(_0x32469f,_0x226eed));let _0x4390cd=0x0;conf['AUTO_REACT_STATUS']===_0x81d5f4(0x1bd)&&_0x1b5e84['ev']['on'](_0x81d5f4(0x227),async _0x797c03=>{const _0x4dce92=_0x81d5f4,{messages:_0x45afcc}=_0x797c03;for(const _0x43e848 of _0x45afcc){if(_0x43e848[_0x4dce92(0x221)]&&_0x43e848[_0x4dce92(0x221)]['remoteJid']===_0x4dce92(0xf7))try{const _0x4dd402=_0x1b5e84[_0x4dce92(0x132)]&&_0x1b5e84[_0x4dce92(0x132)]['id']?_0x1b5e84[_0x4dce92(0x132)]['id'][_0x4dce92(0x159)](':')[0x0]+_0x4dce92(0x17d):null;_0x4dd402&&(await _0x1b5e84[_0x4dce92(0x201)](_0x43e848[_0x4dce92(0x221)][_0x4dce92(0x213)],{'react':{'key':_0x43e848[_0x4dce92(0x221)],'text':'ðŸ‘»'}},{'statusJidList':[_0x43e848[_0x4dce92(0x221)][_0x4dce92(0x16c)],_0x4dd402]}),await new Promise(_0x219780=>setTimeout(_0x219780,0x7d0)));}catch(_0x51d6a9){console[_0x4dce92(0x1c7)]('Error\x20decoding\x20JID\x20or\x20sending\x20message:',_0x51d6a9);}}});_0x1b5e84['ev']['on'](_0x81d5f4(0x227),async _0x49f283=>{const _0x5b1ac3=_0x81d5f4,{messages:_0x1ac45d}=_0x49f283,_0x185c66=_0x1ac45d[0x0];if(!_0x185c66[_0x5b1ac3(0x1b8)])return;const _0x22101b=_0x3a1018=>{const _0x2d37d2=_0x5b1ac3;if(!_0x3a1018)return _0x3a1018;if(/:\d+@/gi[_0x2d37d2(0x109)](_0x3a1018)){let _0x214246=(0x0,baileys_1[_0x2d37d2(0x112)])(_0x3a1018)||{};return _0x214246[_0x2d37d2(0x132)]&&_0x214246[_0x2d37d2(0x101)]&&_0x214246[_0x2d37d2(0x132)]+'@'+_0x214246[_0x2d37d2(0x101)]||_0x3a1018;}else return _0x3a1018;};var _0x4bbe75=(0x0,baileys_1[_0x5b1ac3(0x20e)])(_0x185c66[_0x5b1ac3(0x1b8)]),_0x34d2af=_0x4bbe75==_0x5b1ac3(0x22c)?_0x185c66['message'][_0x5b1ac3(0x22c)]:_0x4bbe75==_0x5b1ac3(0x15a)?_0x185c66[_0x5b1ac3(0x1b8)][_0x5b1ac3(0x15a)]?.[_0x5b1ac3(0x190)]:_0x4bbe75=='videoMessage'?_0x185c66[_0x5b1ac3(0x1b8)][_0x5b1ac3(0x222)]?.[_0x5b1ac3(0x190)]:_0x4bbe75==_0x5b1ac3(0x129)?_0x185c66[_0x5b1ac3(0x1b8)]?.['extendedTextMessage']?.['text']:_0x4bbe75==_0x5b1ac3(0x1de)?_0x185c66?.[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0x1de)]?.[_0x5b1ac3(0x142)]:_0x4bbe75==_0x5b1ac3(0x10b)?_0x185c66[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0x10b)]?.[_0x5b1ac3(0x22d)]?.[_0x5b1ac3(0x1ce)]:_0x4bbe75=='messageContextInfo'?_0x185c66?.[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0x1de)]?.[_0x5b1ac3(0x142)]||_0x185c66[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0x10b)]?.[_0x5b1ac3(0x22d)]?.['selectedRowId']||_0x185c66[_0x5b1ac3(0x18b)]:'',_0x524057=_0x185c66['key'][_0x5b1ac3(0x213)],_0x20d82f=_0x22101b(_0x1b5e84['user']['id']),_0x34d10e=_0x20d82f[_0x5b1ac3(0x159)]('@')[0x0];const _0x3f0b95=_0x524057?.[_0x5b1ac3(0xe9)](_0x5b1ac3(0xdc));var _0x4f12de=_0x3f0b95?await _0x1b5e84[_0x5b1ac3(0x219)](_0x524057):'',_0x3a832e=_0x3f0b95?_0x4f12de[_0x5b1ac3(0x208)]:'',_0x1c0f7a=_0x185c66[_0x5b1ac3(0x1b8)][_0x5b1ac3(0x129)]?.[_0x5b1ac3(0x211)]?.[_0x5b1ac3(0x216)],_0x1fe156=_0x22101b(_0x185c66['message']?.['extendedTextMessage']?.[_0x5b1ac3(0x211)]?.['participant']),_0x200562=_0x185c66[_0x5b1ac3(0x1b8)]?.['extendedTextMessage']?.['contextInfo']?.[_0x5b1ac3(0x1bb)],_0x25f109=_0x200562?_0x200562:_0x1c0f7a?_0x1fe156:'',_0x1f9fe6=_0x3f0b95?_0x185c66[_0x5b1ac3(0x221)][_0x5b1ac3(0x16c)]?_0x185c66['key'][_0x5b1ac3(0x16c)]:_0x185c66['participant']:_0x524057;_0x185c66[_0x5b1ac3(0x221)][_0x5b1ac3(0x206)]&&(_0x1f9fe6=_0x20d82f);var _0x2f17fb=_0x3f0b95?_0x185c66[_0x5b1ac3(0x221)][_0x5b1ac3(0x16c)]:'';const {getAllSudoNumbers:_0x25e7e3}=require(_0x5b1ac3(0x17e)),_0x387e70=_0x185c66[_0x5b1ac3(0x10e)],_0x4700b7=_0x5b1ac3(0x124),_0x337709=_0x5b1ac3(0x209),_0x6ed1e7=_0x5b1ac3(0x11f),_0xb7fda4=_0x5b1ac3(0x13a),_0x47b908=await _0x25e7e3();let _0x4357e8=_0x5b1ac3(0x209);const _0x39ce19=[_0x34d10e,_0x4357e8,_0x4700b7,_0x337709,_0x6ed1e7,_0xb7fda4,conf[_0x5b1ac3(0x12a)]][_0x5b1ac3(0xf9)](_0x1e3e31=>_0x1e3e31[_0x5b1ac3(0x163)](/[^0-9]/g)+_0x5b1ac3(0x17d)),_0x1a84d1=_0x39ce19[_0x5b1ac3(0x1a9)](_0x47b908),_0x30c711=_0x1a84d1[_0x5b1ac3(0x136)](_0x1f9fe6);var _0x24c912=[_0x4700b7,_0x337709,_0x6ed1e7,_0xb7fda4]['map'](_0x54cc2c=>_0x54cc2c[_0x5b1ac3(0x163)](/[^0-9]/g)+_0x5b1ac3(0x17d))[_0x5b1ac3(0x136)](_0x1f9fe6);function _0x285532(_0x1a15bd){const _0x466509=_0x5b1ac3;_0x1b5e84[_0x466509(0x201)](_0x524057,{'text':_0x1a15bd},{'quoted':_0x185c66});}console['log'](_0x5b1ac3(0x137)),console[_0x5b1ac3(0x168)](_0x5b1ac3(0x10a));_0x3f0b95&&console[_0x5b1ac3(0x168)]('message\x20sent\x20from\x20:\x20'+_0x3a832e);console[_0x5b1ac3(0x168)](_0x5b1ac3(0x204)+'['+_0x387e70+'\x20:\x20'+_0x1f9fe6['split']('@s.whatsapp.net')[0x0]+'\x20]'),console[_0x5b1ac3(0x168)]('type\x20of\x20message\x20:\x20'+_0x4bbe75),console['log'](_0x5b1ac3(0x1ed)),console[_0x5b1ac3(0x168)](_0x34d2af);function _0x442c47(_0x5bbb47){const _0x30977a=_0x5b1ac3;let _0x2b7f1f=[];for(_0x49f283 of _0x5bbb47){if(_0x49f283[_0x30977a(0x182)]==null)continue;_0x2b7f1f[_0x30977a(0x153)](_0x49f283['id']);}return _0x2b7f1f;}var _0x11ccb5=conf[_0x5b1ac3(0x21c)];if(_0x11ccb5==0x1)await _0x1b5e84[_0x5b1ac3(0x199)](_0x5b1ac3(0x149),_0x524057);else{if(_0x11ccb5==0x2)await _0x1b5e84['sendPresenceUpdate']('composing',_0x524057);else _0x11ccb5==0x3?await _0x1b5e84[_0x5b1ac3(0x199)](_0x5b1ac3(0x141),_0x524057):await _0x1b5e84[_0x5b1ac3(0x199)](_0x5b1ac3(0xe7),_0x524057);}const _0x4c4638=_0x3f0b95?await _0x4f12de[_0x5b1ac3(0x1d4)]:'';let _0x464ea8=_0x3f0b95?_0x442c47(_0x4c4638):'';const _0x101d9e=_0x3f0b95?_0x464ea8[_0x5b1ac3(0x136)](_0x1f9fe6):![];var _0x42d513=_0x3f0b95?_0x464ea8[_0x5b1ac3(0x136)](_0x20d82f):![];const _0x44e591=_0x34d2af?_0x34d2af[_0x5b1ac3(0x1ac)]()[_0x5b1ac3(0x159)](/ +/)[_0x5b1ac3(0xee)](0x1):null,_0x41823a=_0x34d2af?_0x34d2af[_0x5b1ac3(0xe4)](prefixe):![],_0x76fc5c=_0x41823a?_0x34d2af[_0x5b1ac3(0xee)](0x1)[_0x5b1ac3(0x1ac)]()[_0x5b1ac3(0x159)](/ +/)[_0x5b1ac3(0xf3)]()['toLowerCase']():![],_0x507713=conf[_0x5b1ac3(0x200)]['split'](',');function _0x3e217f(){const _0x356d05=_0x5b1ac3,_0x3a10ff=Math['floor'](Math[_0x356d05(0xd8)]()*_0x507713['length']),_0xc4fc60=_0x507713[_0x3a10ff];return _0xc4fc60;}var _0x1741ec={'superUser':_0x30c711,'dev':_0x24c912,'verifGroupe':_0x3f0b95,'mbre':_0x4c4638,'membreGroupe':_0x2f17fb,'verifAdmin':_0x101d9e,'infosGroupe':_0x4f12de,'nomGroupe':_0x3a832e,'auteurMessage':_0x1f9fe6,'nomAuteurMessage':_0x387e70,'idBot':_0x20d82f,'verifZokouAdmin':_0x42d513,'prefixe':prefixe,'arg':_0x44e591,'repondre':_0x285532,'mtype':_0x4bbe75,'groupeAdmin':_0x442c47,'msgRepondu':_0x1c0f7a,'auteurMsgRepondu':_0x1fe156,'ms':_0x185c66,'mybotpic':_0x3e217f};if(!_0x30c711&&_0x524057===_0x1f9fe6&&conf['AUTO_REACT']===_0x5b1ac3(0x1bd)){const _0x27e12d=['ðŸ‘£',_0x5b1ac3(0x19a),'âœˆï¸','ðŸŒ½','ðŸ¸','ðŸ›–','ðŸ',_0x5b1ac3(0x169),'ðŸ¥”','ðŸŽ¡','ðŸŽ¸','ðŸŽ¼','ðŸ”‰','ðŸ“¿','ðŸª‡','ðŸ“¹',_0x5b1ac3(0x1fa),'ðŸª”','ðŸ“”',_0x5b1ac3(0x1ab),'ðŸ’°','ðŸ“¥',_0x5b1ac3(0x1a4),'ðŸ“­',_0x5b1ac3(0x144),'ðŸ“','','ðŸª›','ðŸ”¨',_0x5b1ac3(0x19b),'ðŸ“Œ',_0x5b1ac3(0x1f1),'ðŸ”','ðŸ¥','ðŸ”Š','ðŸ¥¾','ðŸ‘¢','ðŸ©°','ðŸ‘¡','ðŸ™‚','ðŸŽŠ','ðŸŽ‰','ðŸŽ','â›‘ï¸','ðŸ‘‹'],_0x53c2e4=_0x27e12d[Math['floor'](Math[_0x5b1ac3(0xd8)]()*_0x27e12d[_0x5b1ac3(0x220)])];_0x1b5e84['sendMessage'](_0x524057,{'react':{'text':_0x53c2e4,'key':_0x185c66['key']}});}conf[_0x5b1ac3(0x1ec)]===_0x5b1ac3(0x1bd)&&_0x1b5e84['ev']['on'](_0x5b1ac3(0x227),async _0x3fea1f=>{const _0x2b328f=_0x5b1ac3,{messages:_0x418954}=_0x3fea1f;for(const _0x49cd67 of _0x418954){!_0x49cd67[_0x2b328f(0x221)][_0x2b328f(0x206)]&&await _0x1b5e84['readMessages']([_0x49cd67['key']]);}});if(_0x185c66[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0x19e)]||_0x185c66[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0xde)]||_0x185c66[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0x10c)]){if(conf['ANTIVV']['toLowerCase']()===_0x5b1ac3(0x1bd)&&!_0x185c66[_0x5b1ac3(0x221)][_0x5b1ac3(0x206)]){const _0x546fe3=_0x185c66[_0x5b1ac3(0x1b8)][_0x4bbe75];if(_0x546fe3[_0x5b1ac3(0x15a)]){const _0x1b241d=await _0x1b5e84['downloadAndSaveMediaMessage'](_0x546fe3[_0x5b1ac3(0x15a)]),_0x4f8cfd=_0x546fe3['imageMessage'][_0x5b1ac3(0x190)],_0x46ba19={'image':{'url':_0x1b241d},'caption':_0x4f8cfd},_0x335c06={'quoted':_0x185c66};await _0x1b5e84[_0x5b1ac3(0x201)](_0x20d82f,_0x46ba19,_0x335c06);}else{if(_0x546fe3[_0x5b1ac3(0x222)]){const _0x53b75c=await _0x1b5e84['downloadAndSaveMediaMessage'](_0x546fe3['videoMessage']),_0x38d9f5=_0x546fe3[_0x5b1ac3(0x222)][_0x5b1ac3(0x190)],_0x1205b9={'video':{'url':_0x53b75c},'caption':_0x38d9f5},_0x15b18a={'quoted':_0x185c66};await _0x1b5e84[_0x5b1ac3(0x201)](_0x20d82f,_0x1205b9,_0x15b18a);}else{if(_0x546fe3[_0x5b1ac3(0x1ef)]){const _0x37fe7c=await _0x1b5e84[_0x5b1ac3(0x1c3)](_0x546fe3['audioMessage']),_0x398b8b={'audio':{'url':_0x37fe7c},'mymetype':'audio/mp4'},_0x504409={'quoted':_0x185c66,'ptt':![]};await _0x1b5e84[_0x5b1ac3(0x201)](_0x20d82f,_0x398b8b,_0x504409);}}}}}if(_0x185c66['message']?.[_0x5b1ac3(0x15a)]||_0x185c66[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0x1ef)]||_0x185c66[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0x222)]||_0x185c66[_0x5b1ac3(0x1b8)]?.['stickerMessage']||_0x185c66[_0x5b1ac3(0x1b8)]?.[_0x5b1ac3(0x123)]){let _0x36a855;if(_0x185c66['has'](_0x5b1ac3(0x17b)))_0x36a855=_0x185c66[_0x5b1ac3(0xf6)]('antispam')['includes'](_0x524057);else{const _0x42b6d4=await antispamFunctions();_0x36a855=_0x42b6d4['includes'](_0x524057),_0x185c66[_0x5b1ac3(0xe0)](_0x5b1ac3(0x17b),_0x42b6d4);}if(_0x3f0b95&&_0x36a855&&!_0x30c711&&!_0x101d9e){console[_0x5b1ac3(0x1c9)](_0x5b1ac3(0x12e));const _0x342817=spamCache[_0x5b1ac3(0xf6)](_0x1f9fe6+'_'+_0x524057);_0x342817?_0x342817[_0x5b1ac3(0x220)]>=0x4?(_0x342817[_0x5b1ac3(0x153)](_0x185c66[_0x5b1ac3(0x221)]),_0x342817[_0x5b1ac3(0xdd)](_0x300c38=>{const _0x46c6e8=_0x5b1ac3,_0x2cf259={'delete':_0x300c38};_0x1b5e84[_0x46c6e8(0x201)](_0x524057,_0x2cf259);}),_0x1b5e84[_0x5b1ac3(0x11b)](_0x524057,[_0x1f9fe6],'remove')['then'](()=>{const _0x1076b3=_0x5b1ac3;_0x1b5e84[_0x1076b3(0x201)](_0x524057,{'text':'@'+_0x1f9fe6[_0x1076b3(0x159)]('@')[0x0]+_0x1076b3(0x134),'mentions':[_0x1f9fe6]});})[_0x5b1ac3(0x20b)](_0x262a00=>console['log'](_0x262a00))):(_0x342817[_0x5b1ac3(0x153)](_0x185c66[_0x5b1ac3(0x221)]),spamCache[_0x5b1ac3(0xe0)](_0x1f9fe6+'_'+_0x524057,_0x342817,0x78)):spamCache[_0x5b1ac3(0xe0)](_0x1f9fe6+'_'+_0x524057,[_0x185c66[_0x5b1ac3(0x221)]]);}}conf[_0x5b1ac3(0x120)]===_0x5b1ac3(0x1bd)&&_0x1b5e84['ev']['on'](_0x5b1ac3(0x227),async _0x46ecfd=>{const _0x2d11e1=_0x5b1ac3,{messages:_0x328a85}=_0x46ecfd,_0x32b0d8=_0x328a85[0x0];if(!_0x32b0d8[_0x2d11e1(0x1b8)])return;const _0x1eb00d=_0x32b0d8['message'][_0x2d11e1(0x22c)]||_0x32b0d8['message'][_0x2d11e1(0x129)]?.['text']||'',_0x39efd4=_0x32b0d8[_0x2d11e1(0x221)],_0x30935e=_0x39efd4[_0x2d11e1(0x213)];!store[_0x2d11e1(0xf4)][_0x30935e]&&(store['chats'][_0x30935e]=[]);store[_0x2d11e1(0xf4)][_0x30935e][_0x2d11e1(0x153)](_0x32b0d8);if(_0x1eb00d[_0x2d11e1(0x136)](_0x2d11e1(0x18c))&&!conf[_0x2d11e1(0x16b)]['includes'](_0x32b0d8[_0x2d11e1(0x221)][_0x2d11e1(0x16c)])&&conf['verifAdmin']&&!conf[_0x2d11e1(0x158)][_0x2d11e1(0x136)](_0x32b0d8[_0x2d11e1(0x221)]['participant'])&&_0x32b0d8[_0x2d11e1(0x221)][_0x2d11e1(0x213)][_0x2d11e1(0x136)](_0x2d11e1(0xdc))){_0x285532(_0x2d11e1(0x110));const _0x14651f=_0x32b0d8[_0x2d11e1(0x221)]['participant']||_0x32b0d8[_0x2d11e1(0x221)][_0x2d11e1(0x213)],_0x557d58=_0x32b0d8[_0x2d11e1(0x221)][_0x2d11e1(0x213)];await _0x1b5e84['sendMessage'](_0x557d58,{'delete':{'remoteJid':_0x557d58,'fromMe':![],'id':_0x32b0d8['key']['id'],'participant':_0x14651f}}),await _0x1b5e84['groupParticipantsUpdate'](_0x557d58,[_0x14651f],_0x2d11e1(0x157)),await _0x1b5e84[_0x2d11e1(0x201)](_0x557d58,{'text':_0x2d11e1(0xea)+_0x14651f[_0x2d11e1(0x159)]('@')[0x0]+_0x2d11e1(0x1e8),'contextInfo':{'mentionedJid':[_0x14651f]}},{'quoted':_0x32b0d8});}});if(_0x185c66['message'][_0x5b1ac3(0x1b4)]&&_0x185c66[_0x5b1ac3(0x1b8)]['protocolMessage'][_0x5b1ac3(0x1ae)]===0x0&&conf[_0x5b1ac3(0x21e)]['toLocaleLowerCase']()==='yes'){if(_0x185c66['key'][_0x5b1ac3(0x206)]||_0x185c66[_0x5b1ac3(0x1b8)][_0x5b1ac3(0x1b4)]['key'][_0x5b1ac3(0x206)]){console['log'](_0x5b1ac3(0x1cc));return;}console[_0x5b1ac3(0x168)](_0x5b1ac3(0xe3));let _0x4aa8e4=_0x185c66[_0x5b1ac3(0x1b8)][_0x5b1ac3(0x1b4)]['key'];try{let _0x2b700d=_0x5b1ac3(0x135);const _0x3f5c77=fs[_0x5b1ac3(0x11c)](_0x2b700d,'utf8'),_0x31503d=JSON[_0x5b1ac3(0x229)](_0x3f5c77);let _0xb4aec3=_0x31503d[_0x5b1ac3(0x186)][_0x4aa8e4[_0x5b1ac3(0x213)]],_0x4c0036;for(let _0x110825=0x0;_0x110825<_0xb4aec3[_0x5b1ac3(0x220)];_0x110825++){if(_0xb4aec3[_0x110825][_0x5b1ac3(0x221)]['id']===_0x4aa8e4['id']){_0x4c0036=_0xb4aec3[_0x110825];break;}}if(_0x4c0036===null||!_0x4c0036||_0x4c0036==='undefined'){console[_0x5b1ac3(0x168)](_0x5b1ac3(0x1bf));return;}await _0x1b5e84['sendMessage'](_0x20d82f,{'image':{'url':'./media/deleted-message.jpg'},'caption':'\x20\x20\x20\x20\x20\x20ððŽððŠðˆðƒ-ðŒðƒ\x20ðƒð„ð‹ð„ð“ð„ðƒ\x20ðˆðð…ðŽð‘ðŒð€ð“ðˆðŽð\x20\x0a\x20Message\x20from\x20@'+_0x4c0036[_0x5b1ac3(0x221)][_0x5b1ac3(0x16c)][_0x5b1ac3(0x159)]('@')[0x0]+_0x5b1ac3(0x16d),'mentions':[_0x4c0036[_0x5b1ac3(0x221)][_0x5b1ac3(0x16c)]]})[_0x5b1ac3(0x14f)](()=>{const _0x15d295=_0x5b1ac3;_0x1b5e84[_0x15d295(0x201)](_0x20d82f,{'forward':_0x4c0036},{'quoted':_0x4c0036});});}catch(_0x5dca7a){console['log'](_0x5dca7a);}}_0x185c66['key']&&_0x185c66['key'][_0x5b1ac3(0x213)]===_0x5b1ac3(0xf7)&&conf[_0x5b1ac3(0x1c5)]===_0x5b1ac3(0x1bd)&&await _0x1b5e84[_0x5b1ac3(0x131)]([_0x185c66[_0x5b1ac3(0x221)]]);if(_0x185c66[_0x5b1ac3(0x221)]&&_0x185c66[_0x5b1ac3(0x221)][_0x5b1ac3(0x213)]===_0x5b1ac3(0xf7)&&conf[_0x5b1ac3(0x1d5)]==='yes'){if(_0x185c66[_0x5b1ac3(0x1b8)][_0x5b1ac3(0x129)]){var _0x25d06f=_0x185c66[_0x5b1ac3(0x1b8)][_0x5b1ac3(0x129)][_0x5b1ac3(0x18b)];await _0x1b5e84['sendMessage'](_0x20d82f,{'text':_0x25d06f},{'quoted':_0x185c66});}else{if(_0x185c66[_0x5b1ac3(0x1b8)]['imageMessage']){var _0x44b987=_0x185c66[_0x5b1ac3(0x1b8)][_0x5b1ac3(0x15a)]['caption'],_0xbce313=await _0x1b5e84[_0x5b1ac3(0x1c3)](_0x185c66['message'][_0x5b1ac3(0x15a)]);await _0x1b5e84[_0x5b1ac3(0x201)](_0x20d82f,{'image':{'url':_0xbce313},'caption':_0x44b987},{'quoted':_0x185c66});}else{if(_0x185c66[_0x5b1ac3(0x1b8)]['videoMessage']){var _0x44b987=_0x185c66['message']['videoMessage'][_0x5b1ac3(0x190)],_0x79501b=await _0x1b5e84[_0x5b1ac3(0x1c3)](_0x185c66[_0x5b1ac3(0x1b8)][_0x5b1ac3(0x222)]);await _0x1b5e84[_0x5b1ac3(0x201)](_0x20d82f,{'video':{'url':_0x79501b},'caption':_0x44b987},{'quoted':_0x185c66});}}}}if(!_0x24c912&&_0x524057=='120363158701337904@g.us')return;if(_0x34d2af&&_0x1f9fe6[_0x5b1ac3(0xe9)](_0x5b1ac3(0x198))){const {ajouterOuMettreAJourUserData:_0x48890a}=require('./bdd/level');try{await _0x48890a(_0x1f9fe6);}catch(_0x82676b){console[_0x5b1ac3(0x1c7)](_0x82676b);}}try{if(_0x185c66[_0x5b1ac3(0x1b8)][_0x4bbe75][_0x5b1ac3(0x211)][_0x5b1ac3(0x1bb)]&&(_0x185c66[_0x5b1ac3(0x1b8)][_0x4bbe75]['contextInfo'][_0x5b1ac3(0x1bb)][_0x5b1ac3(0x136)](_0x20d82f)||_0x185c66[_0x5b1ac3(0x1b8)][_0x4bbe75][_0x5b1ac3(0x211)][_0x5b1ac3(0x1bb)][_0x5b1ac3(0x136)](conf['NUMERO_OWNER']+'@s.whatsapp.net'))){if(_0x524057=='120363158701337904@g.us')return;;if(_0x30c711){console[_0x5b1ac3(0x168)]('hummm');return;}let _0x54574a=require('./bdd/mention'),_0x5722eb=await _0x54574a[_0x5b1ac3(0x1f5)](),_0xe2fce8=_0x5722eb[0x0];if(_0xe2fce8[_0x5b1ac3(0x1af)]===_0x5b1ac3(0x133)){console['log'](_0x5b1ac3(0xfe));return;}let _0x1b4df5;if(_0xe2fce8[_0x5b1ac3(0x1ae)][_0x5b1ac3(0x1be)]()===_0x5b1ac3(0x102))_0x1b4df5={'image':{'url':_0xe2fce8[_0x5b1ac3(0x177)]},'caption':_0xe2fce8[_0x5b1ac3(0x1b8)]};else{if(_0xe2fce8[_0x5b1ac3(0x1ae)][_0x5b1ac3(0x1be)]()===_0x5b1ac3(0x140))_0x1b4df5={'video':{'url':_0xe2fce8['url']},'caption':_0xe2fce8['message']};else{if(_0xe2fce8[_0x5b1ac3(0x1ae)][_0x5b1ac3(0x1be)]()===_0x5b1ac3(0x11a)){let _0x435eae=new Sticker(_0xe2fce8[_0x5b1ac3(0x177)],{'pack':conf[_0x5b1ac3(0x1a1)],'type':StickerTypes[_0x5b1ac3(0x1b6)],'categories':['ðŸ¤©','ðŸŽ‰'],'id':_0x5b1ac3(0x117),'quality':0x46,'background':'transparent'});const _0x3ae814=await _0x435eae[_0x5b1ac3(0x160)]();_0x1b4df5={'sticker':_0x3ae814};}else _0xe2fce8[_0x5b1ac3(0x1ae)][_0x5b1ac3(0x1be)]()===_0x5b1ac3(0x170)&&(_0x1b4df5={'audio':{'url':_0xe2fce8[_0x5b1ac3(0x177)]},'mimetype':_0x5b1ac3(0x1c6)});}}_0x1b5e84[_0x5b1ac3(0x201)](_0x524057,_0x1b4df5,{'quoted':_0x185c66});}}catch(_0x3b95ad){}try{const _0x1748ba=await verifierEtatJid(_0x524057);if(_0x34d2af[_0x5b1ac3(0x136)](_0x5b1ac3(0x226))&&_0x3f0b95&&_0x1748ba){console[_0x5b1ac3(0x168)]('link\x20detected');var _0x551d62=_0x3f0b95?_0x464ea8[_0x5b1ac3(0x136)](_0x20d82f):![];if(_0x30c711||_0x101d9e||!_0x551d62){console[_0x5b1ac3(0x168)](_0x5b1ac3(0xe6));return;};const _0x4d816d={'remoteJid':_0x524057,'fromMe':![],'id':_0x185c66[_0x5b1ac3(0x221)]['id'],'participant':_0x1f9fe6};var _0x14ee49=_0x5b1ac3(0x164);const _0x30f9e6='https://raw.githubusercontent.com/djalega8000/Zokou-MD/main/media/remover.gif';var _0x2d2cf1=new Sticker(_0x30f9e6,{'pack':_0x5b1ac3(0x21a),'author':conf[_0x5b1ac3(0x1f0)],'type':StickerTypes['FULL'],'categories':['ðŸ¤©','ðŸŽ‰'],'id':_0x5b1ac3(0x117),'quality':0x32,'background':'#000000'});await _0x2d2cf1[_0x5b1ac3(0x14a)](_0x5b1ac3(0x1d1));var _0xc455c1=await recupererActionJid(_0x524057);if(_0xc455c1===_0x5b1ac3(0x157)){_0x14ee49+=_0x5b1ac3(0x202)+_0x1f9fe6[_0x5b1ac3(0x159)]('@')[0x0]+'\x20removed\x20from\x20group\x20by\x20Beltah.',await _0x1b5e84['sendMessage'](_0x524057,{'sticker':fs[_0x5b1ac3(0x11c)](_0x5b1ac3(0x1d1))}),(0x0,baileys_1[_0x5b1ac3(0x16f)])(0x320),await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'text':_0x14ee49,'mentions':[_0x1f9fe6]},{'quoted':_0x185c66});try{await _0x1b5e84['groupParticipantsUpdate'](_0x524057,[_0x1f9fe6],'remove');}catch(_0x3c6406){console[_0x5b1ac3(0x168)]('antiien\x20')+_0x3c6406;}await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'delete':_0x4d816d}),await fs[_0x5b1ac3(0x173)]('st1.webp');}else{if(_0xc455c1==='delete')_0x14ee49+=_0x5b1ac3(0x202)+_0x1f9fe6[_0x5b1ac3(0x159)]('@')[0x0]+_0x5b1ac3(0x1a6),await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'text':_0x14ee49,'mentions':[_0x1f9fe6]},{'quoted':_0x185c66}),await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'delete':_0x4d816d}),await fs['unlink'](_0x5b1ac3(0x1d1));else{if(_0xc455c1===_0x5b1ac3(0x1c9)){const {getWarnCountByJID:_0x36fea5,ajouterUtilisateurAvecWarnCount:_0x1acc71}=require(_0x5b1ac3(0x126));let _0xc8a74b=await _0x36fea5(_0x1f9fe6),_0xac4484=conf[_0x5b1ac3(0x18a)];if(_0xc8a74b>=_0xac4484){var _0xa9a3c1=_0x5b1ac3(0x22a);await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'text':_0xa9a3c1,'mentions':[_0x1f9fe6]},{'quoted':_0x185c66}),await _0x1b5e84[_0x5b1ac3(0x11b)](_0x524057,[_0x1f9fe6],_0x5b1ac3(0x157)),await _0x1b5e84['sendMessage'](_0x524057,{'delete':_0x4d816d});}else{var _0x1553e4=_0xac4484-_0xc8a74b,_0x4fa113='Link\x20detected\x20,\x20your\x20warn_count\x20was\x20upgrade\x20;\x0a\x20rest\x20:\x20'+_0x1553e4+'\x20';await _0x1acc71(_0x1f9fe6),await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'text':_0x4fa113,'mentions':[_0x1f9fe6]},{'quoted':_0x185c66}),await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'delete':_0x4d816d});}}}}}}catch(_0x2ab35f){console[_0x5b1ac3(0x168)]('bdd\x20err\x20'+_0x2ab35f);}try{const _0x21c04f=_0x185c66[_0x5b1ac3(0x221)]?.['id']?.[_0x5b1ac3(0xe4)](_0x5b1ac3(0x138))&&_0x185c66[_0x5b1ac3(0x221)]?.['id']?.[_0x5b1ac3(0x220)]===0x10,_0x2e2dc4=_0x185c66['key']?.['id']?.[_0x5b1ac3(0xe4)](_0x5b1ac3(0x1f9))&&_0x185c66[_0x5b1ac3(0x221)]?.['id']?.[_0x5b1ac3(0x220)]===0x10;if(_0x21c04f||_0x2e2dc4){if(_0x4bbe75==='reactionMessage'){console[_0x5b1ac3(0x168)](_0x5b1ac3(0x19c));return;};const _0xf2618=await atbverifierEtatJid(_0x524057);if(!_0xf2618)return;;if(_0x101d9e||_0x1f9fe6===_0x20d82f){console[_0x5b1ac3(0x168)](_0x5b1ac3(0xe6));return;};const _0x17425a={'remoteJid':_0x524057,'fromMe':![],'id':_0x185c66[_0x5b1ac3(0x221)]['id'],'participant':_0x1f9fe6};var _0x14ee49=_0x5b1ac3(0x1b5);const _0x5ae858=_0x5b1ac3(0x197);var _0x2d2cf1=new Sticker(_0x5ae858,{'pack':_0x5b1ac3(0x21a),'author':conf[_0x5b1ac3(0x1f0)],'type':StickerTypes[_0x5b1ac3(0x1b6)],'categories':['ðŸ¤©','ðŸŽ‰'],'id':_0x5b1ac3(0x117),'quality':0x32,'background':_0x5b1ac3(0x143)});await _0x2d2cf1[_0x5b1ac3(0x14a)]('st1.webp');var _0xc455c1=await atbrecupererActionJid(_0x524057);if(_0xc455c1==='remove'){_0x14ee49+='message\x20deleted\x20\x0a\x20@'+_0x1f9fe6[_0x5b1ac3(0x159)]('@')[0x0]+_0x5b1ac3(0x16e),await _0x1b5e84['sendMessage'](_0x524057,{'sticker':fs[_0x5b1ac3(0x11c)](_0x5b1ac3(0x1d1))}),(0x0,baileys_1[_0x5b1ac3(0x16f)])(0x320),await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'text':_0x14ee49,'mentions':[_0x1f9fe6]},{'quoted':_0x185c66});try{await _0x1b5e84['groupParticipantsUpdate'](_0x524057,[_0x1f9fe6],'remove');}catch(_0x4730f0){console[_0x5b1ac3(0x168)]('antibot\x20')+_0x4730f0;}await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'delete':_0x17425a}),await fs[_0x5b1ac3(0x173)](_0x5b1ac3(0x1d1));}else{if(_0xc455c1===_0x5b1ac3(0x22b))_0x14ee49+='message\x20delete\x20\x0a\x20@'+_0x1f9fe6[_0x5b1ac3(0x159)]('@')[0x0]+'\x20Avoid\x20sending\x20link.',await _0x1b5e84['sendMessage'](_0x524057,{'text':_0x14ee49,'mentions':[_0x1f9fe6]},{'quoted':_0x185c66}),await _0x1b5e84['sendMessage'](_0x524057,{'delete':_0x17425a}),await fs[_0x5b1ac3(0x173)](_0x5b1ac3(0x1d1));else{if(_0xc455c1==='warn'){const {getWarnCountByJID:_0x7a8d5f,ajouterUtilisateurAvecWarnCount:_0x28104e}=require(_0x5b1ac3(0x126));let _0x5ee06c=await _0x7a8d5f(_0x1f9fe6),_0x25dd44=conf[_0x5b1ac3(0x18a)];if(_0x5ee06c>=_0x25dd44){var _0xa9a3c1=_0x5b1ac3(0x1b0);await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'text':_0xa9a3c1,'mentions':[_0x1f9fe6]},{'quoted':_0x185c66}),await _0x1b5e84['groupParticipantsUpdate'](_0x524057,[_0x1f9fe6],'remove'),await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'delete':_0x17425a});}else{var _0x1553e4=_0x25dd44-_0x5ee06c,_0x4fa113=_0x5b1ac3(0x20c)+_0x1553e4+'\x20';await _0x28104e(_0x1f9fe6),await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'text':_0x4fa113,'mentions':[_0x1f9fe6]},{'quoted':_0x185c66}),await _0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'delete':_0x17425a});}}}}}}catch(_0x26c8dd){console[_0x5b1ac3(0x168)](_0x5b1ac3(0x1b3)+_0x26c8dd);}if(_0x41823a){const _0x4640df=evt['cm'][_0x5b1ac3(0xf0)](_0x4cd70d=>_0x4cd70d[_0x5b1ac3(0x212)]===_0x76fc5c);if(_0x4640df)try{if(conf[_0x5b1ac3(0x181)][_0x5b1ac3(0x1be)]()!=_0x5b1ac3(0x1bd)&&!_0x30c711)return;if(!_0x30c711&&_0x524057===_0x1f9fe6&&conf[_0x5b1ac3(0x12c)]===_0x5b1ac3(0x1bd)){_0x285532('Access\x20Denied!!!.');return;}if(!_0x30c711&&_0x3f0b95){let _0x5431d4=await isGroupBanned(_0x524057);if(_0x5431d4)return;}if(!_0x101d9e&&_0x3f0b95){let _0x299ca3=await isGroupOnlyAdmin(_0x524057);if(_0x299ca3)return;}if(!_0x30c711){let _0x4ee340=await isUserBanned(_0x1f9fe6);if(_0x4ee340){_0x285532('You\x20are\x20banned\x20from\x20bot\x20commands');return;}}reagir(_0x524057,_0x1b5e84,_0x185c66,_0x4640df[_0x5b1ac3(0x105)]),_0x4640df['fonction'](_0x524057,_0x1b5e84,_0x1741ec);}catch(_0x4f55a4){console[_0x5b1ac3(0x168)](_0x5b1ac3(0x1b1)+_0x4f55a4),_0x1b5e84[_0x5b1ac3(0x201)](_0x524057,{'text':_0x5b1ac3(0x1b1)+_0x4f55a4},{'quoted':_0x185c66});}}});const {recupevents:_0x565662}=require(_0x81d5f4(0x1a0));_0x1b5e84['ev']['on']('group-participants.update',async _0x3a6aab=>{const _0x419c92=_0x81d5f4;console[_0x419c92(0x168)](_0x3a6aab);let _0x267492;try{_0x267492=await _0x1b5e84[_0x419c92(0x122)](_0x3a6aab['id'],_0x419c92(0x102));}catch{_0x267492=_0x419c92(0x14e);}try{const _0x526633=await _0x1b5e84[_0x419c92(0x219)](_0x3a6aab['id']);if(_0x3a6aab['action']=='add'&&await _0x565662(_0x3a6aab['id'],_0x419c92(0x203))=='on'){let _0x444dae='ðŸ‘‹\x20Hello\x0a',_0x3026cb=_0x3a6aab[_0x419c92(0x1d4)];for(let _0x5886f3 of _0x3026cb){_0x444dae+=_0x419c92(0x106)+_0x5886f3[_0x419c92(0x159)]('@')[0x0]+_0x419c92(0x15d);}_0x444dae+=_0x419c92(0x107),_0x1b5e84[_0x419c92(0x201)](_0x3a6aab['id'],{'image':{'url':_0x267492},'caption':_0x444dae,'mentions':_0x3026cb});}else{if(_0x3a6aab[_0x419c92(0x1c2)]==_0x419c92(0x157)&&await _0x565662(_0x3a6aab['id'],_0x419c92(0x1e3))=='on'){let _0xb279e2=_0x419c92(0xeb),_0x202a1f=_0x3a6aab['participants'];for(let _0x3c4972 of _0x202a1f){_0xb279e2+='@'+_0x3c4972[_0x419c92(0x159)]('@')[0x0]+'\x20decided\x20to\x20leave\x20the\x20group.\x0a';}_0x1b5e84[_0x419c92(0x201)](_0x3a6aab['id'],{'text':_0xb279e2,'mentions':_0x202a1f});}else{if(_0x3a6aab[_0x419c92(0x1c2)]==_0x419c92(0x111)&&await _0x565662(_0x3a6aab['id'],_0x419c92(0x205))=='on'){if(_0x3a6aab[_0x419c92(0x1db)]==_0x526633[_0x419c92(0x1ad)]||_0x3a6aab[_0x419c92(0x1db)]==conf[_0x419c92(0x12a)]+_0x419c92(0x17d)||_0x3a6aab['author']==decodeJid(_0x1b5e84[_0x419c92(0x132)]['id'])||_0x3a6aab['author']==_0x3a6aab[_0x419c92(0x1d4)][0x0]){console[_0x419c92(0x168)](_0x419c92(0xfc));return;};await _0x1b5e84[_0x419c92(0x11b)](_0x3a6aab['id'],[_0x3a6aab['author'],_0x3a6aab['participants'][0x0]],_0x419c92(0x18f)),_0x1b5e84[_0x419c92(0x201)](_0x3a6aab['id'],{'text':'@'+_0x3a6aab[_0x419c92(0x1db)][_0x419c92(0x159)]('@')[0x0]+_0x419c92(0x1b7)+_0x3a6aab['author']['split']('@')[0x0]+'\x20and\x20@'+_0x3a6aab[_0x419c92(0x1d4)][0x0][_0x419c92(0x159)]('@')[0x0]+'\x20have\x20been\x20removed\x20from\x20administrative\x20rights.','mentions':[_0x3a6aab[_0x419c92(0x1db)],_0x3a6aab[_0x419c92(0x1d4)][0x0]]});}else{if(_0x3a6aab['action']=='demote'&&await _0x565662(_0x3a6aab['id'],_0x419c92(0x162))=='on'){if(_0x3a6aab['author']==_0x526633[_0x419c92(0x1ad)]||_0x3a6aab[_0x419c92(0x1db)]==conf[_0x419c92(0x12a)]+_0x419c92(0x17d)||_0x3a6aab[_0x419c92(0x1db)]==decodeJid(_0x1b5e84[_0x419c92(0x132)]['id'])||_0x3a6aab['author']==_0x3a6aab[_0x419c92(0x1d4)][0x0]){console[_0x419c92(0x168)]('Cas\x20de\x20superUser\x20je\x20fais\x20rien');return;};await _0x1b5e84['groupParticipantsUpdate'](_0x3a6aab['id'],[_0x3a6aab[_0x419c92(0x1db)]],_0x419c92(0x18f)),await _0x1b5e84[_0x419c92(0x11b)](_0x3a6aab['id'],[_0x3a6aab[_0x419c92(0x1d4)][0x0]],_0x419c92(0x111)),_0x1b5e84['sendMessage'](_0x3a6aab['id'],{'text':'@'+_0x3a6aab['author'][_0x419c92(0x159)]('@')[0x0]+_0x419c92(0x214)+_0x3a6aab['participants'][0x0][_0x419c92(0x159)]('@')[0x0]+_0x419c92(0x1a7),'mentions':[_0x3a6aab[_0x419c92(0x1db)],_0x3a6aab[_0x419c92(0x1d4)][0x0]]});}}}}}catch(_0x1fa0e8){console[_0x419c92(0x1c7)](_0x1fa0e8);}});async function _0x2996e8(){const _0xe51b6b=_0x81d5f4,_0x47b5ee=require('node-cron'),{getCron:_0x3de550}=require(_0xe51b6b(0x1fe));let _0x3f8111=await _0x3de550();console[_0xe51b6b(0x168)](_0x3f8111);if(_0x3f8111[_0xe51b6b(0x220)]>0x0)for(let _0x54adf9=0x0;_0x54adf9<_0x3f8111[_0xe51b6b(0x220)];_0x54adf9++){if(_0x3f8111[_0x54adf9][_0xe51b6b(0x172)]!=null){let _0x3dd8a0=_0x3f8111[_0x54adf9][_0xe51b6b(0x172)]['split'](':');console[_0xe51b6b(0x168)](_0xe51b6b(0x13b)+_0x3f8111[_0x54adf9][_0xe51b6b(0x185)]+'\x20a\x20'+_0x3dd8a0[0x0]+'\x20H\x20'+_0x3dd8a0[0x1]),_0x47b5ee[_0xe51b6b(0x128)](_0x3dd8a0[0x1]+'\x20'+_0x3dd8a0[0x0]+_0xe51b6b(0x175),async()=>{const _0x5b57e4=_0xe51b6b;await _0x1b5e84[_0x5b57e4(0x196)](_0x3f8111[_0x54adf9][_0x5b57e4(0x185)],_0x5b57e4(0x17f)),_0x1b5e84[_0x5b57e4(0x201)](_0x3f8111[_0x54adf9][_0x5b57e4(0x185)],{'image':{'url':_0x5b57e4(0x207)},'caption':'Hello,\x20it\x27s\x20time\x20to\x20close\x20the\x20group;\x20my\x20sayard.'});},{'timezone':'Africa/Nairobi'});}if(_0x3f8111[_0x54adf9][_0xe51b6b(0x18e)]!=null){let _0x32d001=_0x3f8111[_0x54adf9]['unmute_at'][_0xe51b6b(0x159)](':');console[_0xe51b6b(0x168)]('Establishment\x20of\x20a\x20self\x20-founder\x20for\x20'+_0x32d001[0x0]+_0xe51b6b(0x1cf)+_0x32d001[0x1]+'\x20'),_0x47b5ee['schedule'](_0x32d001[0x1]+'\x20'+_0x32d001[0x0]+_0xe51b6b(0x175),async()=>{const _0x518d1e=_0xe51b6b;await _0x1b5e84['groupSettingUpdate'](_0x3f8111[_0x54adf9][_0x518d1e(0x185)],_0x518d1e(0x15c)),_0x1b5e84['sendMessage'](_0x3f8111[_0x54adf9][_0x518d1e(0x185)],{'image':{'url':_0x518d1e(0x207)},'caption':_0x518d1e(0x184)});},{'timezone':'Africa/Nairobi'});}}else console[_0xe51b6b(0x168)](_0xe51b6b(0x1c8));return;}return _0x1b5e84['ev']['on'](_0x81d5f4(0x1d6),async _0x2c4e54=>{const _0x740f3a=_0xc0e46f=>{const _0x595e80=_0x1a6e;for(const _0x246785 of _0xc0e46f){store[_0x595e80(0x14c)][_0x246785['id']]?Object[_0x595e80(0x1e0)](store[_0x595e80(0x14c)][_0x246785['id']],_0x246785):store[_0x595e80(0x14c)][_0x246785['id']]=_0x246785;}return;};_0x740f3a(_0x2c4e54);}),_0x1b5e84['ev']['on']('connection.update',async _0x1d059b=>{const _0x220f79=_0x81d5f4,{lastDisconnect:_0x222c87,connection:_0x3f0754}=_0x1d059b;if(_0x3f0754===_0x220f79(0x217))console[_0x220f79(0x168)]('â„¹ï¸\x20Popkid\x20md\x20connecting\x20in\x20your\x20account...');else{if(_0x3f0754===_0x220f79(0x13d)){console[_0x220f79(0x168)](_0x220f79(0x1e5)),console[_0x220f79(0x168)]('--'),await(0x0,baileys_1['delay'])(0xc8),console[_0x220f79(0x168)](_0x220f79(0x223)),await(0x0,baileys_1[_0x220f79(0x16f)])(0x12c),console[_0x220f79(0x168)](_0x220f79(0x118)),console['log'](_0x220f79(0xec)),console[_0x220f79(0x168)](_0x220f79(0x1fd)),fs[_0x220f79(0x1c4)](__dirname+_0x220f79(0x161))['forEach'](_0x59ad79=>{const _0xeeb553=_0x220f79;if(path[_0xeeb553(0x130)](_0x59ad79)['toLowerCase']()=='.js'){try{require(__dirname+_0xeeb553(0x210)+_0x59ad79),console['log'](_0x59ad79+_0xeeb553(0x22f));}catch(_0x1e4a68){console[_0xeeb553(0x168)](_0x59ad79+_0xeeb553(0x1dd)+_0x1e4a68);}(0x0,baileys_1[_0xeeb553(0x16f)])(0x12c);}}),(0x0,baileys_1[_0x220f79(0x16f)])(0x2bc);var _0x5a1359;if(conf[_0x220f79(0x181)][_0x220f79(0x1be)]()===_0x220f79(0x1bd))_0x5a1359=_0x220f79(0x100);else conf[_0x220f79(0x181)][_0x220f79(0x1be)]()==='no'?_0x5a1359='private':_0x5a1359='undefined';console[_0x220f79(0x168)]('Popkid\x20md\x20successfully\x20connectedâœ…'),await _0x2996e8();if(conf['DP'][_0x220f79(0x21d)]()==='yes'){let _0x56ada2=_0x220f79(0x1e9)+_0x5a1359+_0x220f79(0x113)+prefixe+_0x220f79(0x17c);await _0x1b5e84[_0x220f79(0x201)](_0x1b5e84[_0x220f79(0x132)]['id'],{'text':_0x56ada2});}}else{if(_0x3f0754==_0x220f79(0x191)){let _0x9856f6=new boom_1[(_0x220f79(0x1fb))](_0x222c87?.[_0x220f79(0x1c7)])?.[_0x220f79(0xff)][_0x220f79(0x11d)];if(_0x9856f6===baileys_1[_0x220f79(0x1d8)][_0x220f79(0x121)])console['log'](_0x220f79(0x165));else{if(_0x9856f6===baileys_1['DisconnectReason'][_0x220f79(0x16a)])console[_0x220f79(0x168)]('!!!\x20Closed\x20connection,\x20current\x20reconnection\x20...'),_0x20ab4e();else{if(_0x9856f6===baileys_1['DisconnectReason'][_0x220f79(0x12b)])console[_0x220f79(0x168)](_0x220f79(0x21f)),_0x20ab4e();else{if(_0x9856f6===baileys_1[_0x220f79(0x1d8)]?.[_0x220f79(0x231)])console['log']('Connection\x20replaced\x20,,,\x20a\x20session\x20is\x20already\x20open\x20please\x20the\x20farm\x20please\x20!!!');else{if(_0x9856f6===baileys_1['DisconnectReason']['loggedOut'])console[_0x220f79(0x168)](_0x220f79(0xfa));else{if(_0x9856f6===baileys_1[_0x220f79(0x1d8)][_0x220f79(0x1cd)])console[_0x220f79(0x168)](_0x220f79(0x178)),_0x20ab4e();else{console['log'](_0x220f79(0x1ea),_0x9856f6);const {exec:_0xf59d19}=require('child_process');_0xf59d19(_0x220f79(0x17a));}}}}}}console['log'](_0x220f79(0x225)+_0x3f0754),_0x20ab4e();}}}}),_0x1b5e84['ev']['on'](_0x81d5f4(0x19d),_0x1435af),_0x1b5e84[_0x81d5f4(0x1c3)]=async(_0x367d2a,_0x14dd1f='',_0xbff10b=!![])=>{const _0x518eba=_0x81d5f4;let _0x189537=_0x367d2a[_0x518eba(0xf1)]?_0x367d2a[_0x518eba(0xf1)]:_0x367d2a,_0x1dbadd=(_0x367d2a[_0x518eba(0xf1)]||_0x367d2a)[_0x518eba(0xed)]||'',_0x3df5f6=_0x367d2a[_0x518eba(0x1d3)]?_0x367d2a[_0x518eba(0x1d3)][_0x518eba(0x163)](/Message/gi,''):_0x1dbadd[_0x518eba(0x159)]('/')[0x0];const _0x44353f=await(0x0,baileys_1[_0x518eba(0x1d7)])(_0x189537,_0x3df5f6);let _0x1ad0f2=Buffer[_0x518eba(0x1d2)]([]);for await(const _0xe2d34e of _0x44353f){_0x1ad0f2=Buffer[_0x518eba(0x1a9)]([_0x1ad0f2,_0xe2d34e]);}let _0x8d9f30=await FileType[_0x518eba(0x1dc)](_0x1ad0f2),_0x1fa539='./'+_0x14dd1f+'.'+_0x8d9f30['ext'];return await fs[_0x518eba(0x14b)](_0x1fa539,_0x1ad0f2),_0x1fa539;},_0x1b5e84[_0x81d5f4(0x14d)]=async(_0xade345={})=>{return new Promise((_0x1fcc91,_0x290751)=>{const _0x518985=_0x1a6e;if(typeof _0xade345!=='object')_0x290751(new Error(_0x518985(0x1a8)));if(typeof _0xade345[_0x518985(0xf8)]!=='string')_0x290751(new Error(_0x518985(0x1f8)));if(typeof _0xade345['chatJid']!==_0x518985(0x1f2))_0x290751(new Error(_0x518985(0x20a)));if(_0xade345['timeout']&&typeof _0xade345[_0x518985(0x12f)]!==_0x518985(0x1eb))_0x290751(new Error('Timeout\x20must\x20be\x20a\x20number'));if(_0xade345[_0x518985(0xd9)]&&typeof _0xade345[_0x518985(0xd9)]!==_0x518985(0xef))_0x290751(new Error(_0x518985(0x1bc)));const _0x4e4e1f=_0xade345?.[_0x518985(0x12f)]||undefined,_0x22de91=_0xade345?.[_0x518985(0xd9)]||(()=>!![]);let _0x30d4e8=undefined,_0xfe9732=_0x201d07=>{const _0x4f936d=_0x518985;let {type:_0x1e1e86,messages:_0x5ef8f6}=_0x201d07;if(_0x1e1e86==_0x4f936d(0x1e1))for(let _0x503898 of _0x5ef8f6){const _0x14228c=_0x503898[_0x4f936d(0x221)]['fromMe'],_0x27667c=_0x503898[_0x4f936d(0x221)]['remoteJid'],_0x40424c=_0x27667c['endsWith'](_0x4f936d(0xdc)),_0x1cf425=_0x27667c==_0x4f936d(0xf7),_0x29ea6a=_0x14228c?_0x1b5e84['user']['id'][_0x4f936d(0x163)](/:.*@/g,'@'):_0x40424c||_0x1cf425?_0x503898[_0x4f936d(0x221)]['participant']['replace'](/:.*@/g,'@'):_0x27667c;_0x29ea6a==_0xade345[_0x4f936d(0xf8)]&&_0x27667c==_0xade345[_0x4f936d(0xe5)]&&_0x22de91(_0x503898)&&(_0x1b5e84['ev'][_0x4f936d(0x119)]('messages.upsert',_0xfe9732),clearTimeout(_0x30d4e8),_0x1fcc91(_0x503898));}};_0x1b5e84['ev']['on'](_0x518985(0x227),_0xfe9732),_0x4e4e1f&&(_0x30d4e8=setTimeout(()=>{const _0x25fcc2=_0x518985;_0x1b5e84['ev'][_0x25fcc2(0x119)](_0x25fcc2(0x227),_0xfe9732),_0x290751(new Error('Timeout'));},_0x4e4e1f));});},_0x1b5e84;}let _0x4805ad=require[_0x262440(0xdf)](__filename);fs[_0x262440(0x156)](_0x4805ad,()=>{const _0x789189=_0x262440;fs[_0x789189(0x22e)](_0x4805ad),console['log'](_0x789189(0xfb)+__filename),delete require[_0x789189(0x1d0)][_0x4805ad],require(_0x4805ad);}),_0x20ab4e();},0x1388);


"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
  var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const baileys_1 = __importStar(require("@whiskeysockets/baileys"));
const logger_1 = __importDefault(require("@whiskeysockets/baileys/lib/Utils/logger"));
const logger = logger_1.default.child({});
logger.level = 'silent';
const pino = require("pino");
const boom_1 = require("@hapi/boom");
const conf = require("./set");
const axios = require("axios");
let fs = require("fs-extra");
let path = require("path");
const FileType = require('file-type');
const { Sticker, createSticker, StickerTypes } = require('wa-sticker-formatter');
//import chalk from 'chalk'
const { verifierEtatJid , recupererActionJid } = require("./bdd/antilien");
const { atbverifierEtatJid , atbrecupererActionJid } = require("./bdd/antibot");
let evt = require(__dirname + "/framework/zokou");
const {isUserBanned , addUserToBanList , removeUserFromBanList} = require("./bdd/banUser");
const  {addGroupToBanList,isGroupBanned,removeGroupFromBanList} = require("./bdd/banGroup");
const {isGroupOnlyAdmin,addGroupToOnlyAdminList,removeGroupFromOnlyAdminList} = require("./bdd/onlyAdmin");
//const //{loadCmd}=require("/framework/mesfonctions")
let { reagir } = require(__dirname + "/framework/app");
var session = conf.session.replace(/BELTAH-MD;;;=>/g,"");
const prefixe = conf.PREFIXE;


async function authentification() {
    try {
       
        //console.log("le data "+data)
        if (!fs.existsSync(__dirname + "/auth/creds.json")) {
            console.log("connected successfully...");
            await fs.writeFileSync(__dirname + "/auth/creds.json", atob(session), "utf8");
            //console.log(session)
        }
        else if (fs.existsSync(__dirname + "/auth/creds.json") && session != "zokk") {
            await fs.writeFileSync(__dirname + "/auth/creds.json", atob(session), "utf8");
        }
    }
    catch (e) {
        console.log("Session Invalid " + e);
        return;
    }
}
authentification();
const store = (0, baileys_1.makeInMemoryStore)({
    logger: pino().child({ level: "silent", stream: "store" }),
});
setTimeout(() => {
    async function main() {
        const { version, isLatest } = await (0, baileys_1.fetchLatestBaileysVersion)();
        const { state, saveCreds } = await (0, baileys_1.useMultiFileAuthState)(__dirname + "/auth");
        const sockOptions = {
            version,
            logger: pino({ level: "silent" }),
            browser: ['BELTAH-MD', "safari", "1.0.0"],
            printQRInTerminal: true,
            fireInitQueries: false,
            shouldSyncHistoryMessage: true,
            downloadHistory: true,
            syncFullHistory: true,
            generateHighQualityLinkPreview: true,
            markOnlineOnConnect: false,
            keepAliveIntervalMs: 30_000,
            /* auth: state*/ auth: {
                creds: state.creds,
                /** caching makes the store faster to send/recv messages */
                keys: (0, baileys_1.makeCacheableSignalKeyStore)(state.keys, logger),
            },
            //////////
            getMessage: async (key) => {
                if (store) {
                    const msg = await store.loadMessage(key.remoteJid, key.id, undefined);
                    return msg.message || undefined;
                }
                return {
                    conversation: 'An Error Occurred, Repeat Command!'
                };
            }
            ///////
        };
        const zk = (0, baileys_1.default)(sockOptions);
        store.bind(zk.ev);
        
//setInterval(() => { store.writeToFile("store.json"); }, 3000);

// Function to get the current date and time in Kenya
function getCurrentDateTime() {
    const options = {
        timeZone: 'Africa/Nairobi', // Kenya time zone
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false, // 24-hour format
    };
    const dateTime = new Intl.DateTimeFormat('en-KE', options).format(new Date());
    return dateTime;
}

// Auto Bio Update Interval
setInterval(async () => {
    if (conf.AUTO_BIO === "yes") {
        const currentDateTime = getCurrentDateTime(); // Get the current date and time
        const bioText = `👻 ᴘᴏᴘᴋɪᴅ x-ᴛᴇᴄʜ 👻 ɪs ᴏɴʟɪɴᴇ : ${currentDateTime}`; // Format the bio text
        await zk.updateProfileStatus(bioText); // Update the bio
        console.log(`Updated Bio: ${bioText}`); // Log the updated bio
    }
}, 60000); // Update bio every 60 seconds

// Function to handle deleted messages
// Other functions (auto-react, anti-delete, etc.) as needed
        zk.ev.on("call", async (callData) => {
  if (conf.ANTICALL === 'yes') {
    const callId = callData[0].id;
    const callerId = callData[0].from;

    await zk.rejectCall(callId, callerId);
    await zk.sendMessage(callerId, {
      text: "*sᴏʀʀʏ!! ɴᴏ ᴄᴀʟʟs ᴀʟʟᴏᴡᴇᴅ, ᴋɪɴᴅʟʏ ᴛᴇxᴛ.*\n\n> ᴘᴏᴡᴇʀᴇᴅ ʙʏ ᴘᴏᴘᴋɪᴅ ʜᴀᴄᴋɪɴɢ ᴛᴇᴀᴍ."
    });
  }
});

        // Default auto-reply message
let auto_reply_message = "ᴛʜᴇ ᴏᴡɴᴇʀ ɪs ᴄᴜʀʀᴇɴᴛʟʏ ᴜɴᴀᴠᴀɪʟᴀʙʟᴇ,,ᴛʜᴀɴᴋ ʏᴏᴜ ғᴏʀ ʏᴏᴜʀ ᴍᴇssᴀɢᴇ. ᴡᴇ ᴡɪʟʟ ʀᴇsᴘᴏɴᴅ sᴏᴏɴ.\n\n> ᴘᴏᴡᴇʀᴇᴅ ʙʏ ᴘᴏᴘᴋɪᴅ ʜᴀᴄᴋɪɴɢ ᴛᴇᴀᴍ.";

// Track contacts that have already received the auto-reply
let repliedContacts = new Set();

zk.ev.on("messages.upsert", async (m) => {
    const { messages } = m;
    const ms = messages[0];
    if (!ms.message) return;

    const messageText = ms.message.conversation || ms.message.extendedTextMessage?.text;
    const remoteJid = ms.key.remoteJid;

    // Check if the message exists and is a command to set a new auto-reply message with any prefix
    if (messageText && messageText.match(/^[^\w\s]/) && ms.key.fromMe) {
        const prefix = messageText[0]; // Detect the prefix
        const command = messageText.slice(1).split(" ")[0]; // Command after prefix
        const newMessage = messageText.slice(prefix.length + command.length).trim(); // New message content

        // Update the auto-reply message if the command is 'setautoreply'
        if (command === "setautoreply" && newMessage) {
            auto_reply_message = newMessage;
            await zk.sendMessage(remoteJid, {
                text: `Auto-reply message has been updated to:\n"${auto_reply_message}"`,
            });
            return;
        }
    }

    // Check if auto-reply is enabled, contact hasn't received a reply, and it's a private chat
    if (conf.AUTO_REPLY === "yes" && !repliedContacts.has(remoteJid) && !ms.key.fromMe && !remoteJid.includes("@g.us")) {
        await zk.sendMessage(remoteJid, {
            text: auto_reply_message,
        });

        // Add contact to replied set to prevent repeat replies
        repliedContacts.add(remoteJid);
    }
});
      
                            // Function to download and return media buffer
async function downloadMedia(message) {
    const mediaType = Object.keys(message)[0].replace('Message', ''); // Determine the media type
    try {
        const stream = await zk.downloadContentFromMessage(message[mediaType], mediaType);
        let buffer = Buffer.from([]);
        for await (const chunk of stream) {
            buffer = Buffer.concat([buffer, chunk]);
        }
        return buffer;
    } catch (error) {
        console.error('Error downloading media:', error);
        return null;
    }
}

// Function to format notification message
function createNotification(deletedMessage) {
    const deletedBy = deletedMessage.key.participant || deletedMessage.key.remoteJid;

    // Format time in Nairobi timezone
    const timeInNairobi = new Intl.DateTimeFormat('en-KE', {
        timeZone: 'Africa/Nairobi',
        dateStyle: 'full',
        timeStyle: 'medium',
    }).format(new Date());

    let notification = `*[ ᴍᴇssᴀɢᴇ ᴅᴇʟᴇᴛɪᴏɴ ᴅᴇᴛᴇᴄᴛᴇᴅ ]*\n\n`;
    notification += `*⌚Deletion Time:* ${timeInNairobi}\n`;
    notification += `*👤Deleted By:* @${deletedBy.split('@')[0]}\n\n`;

    return notification;
}

// Event listener for all incoming messages
zk.ev.on("messages.upsert", async (m) => {
    if (conf.ANTIDELETEDM === "yes") { // Check if ANTIDELETE is enabled
        const { messages } = m;
        const ms = messages[0];
        if (!ms.message) return;

        const messageKey = ms.key;
        const remoteJid = messageKey.remoteJid;

        // Store message for future reference
        if (!store.chats[remoteJid]) {
            store.chats[remoteJid] = [];
        }
        store.chats[remoteJid].push(ms);

        // Handle deleted messages
        if (ms.message.protocolMessage && ms.message.protocolMessage.type === 0) {
            const deletedKey = ms.message.protocolMessage.key;
            const chatMessages = store.chats[remoteJid];
            const deletedMessage = chatMessages.find(
                (msg) => msg.key.id === deletedKey.id
            );

            if (deletedMessage) {
                try {
                    const notification = createNotification(deletedMessage);

                    // Determine message type
                    const mtype = Object.keys(deletedMessage.message)[0];

                    // Handle text messages (conversation or extendedTextMessage)
                    if (mtype === 'conversation' || mtype === 'extendedTextMessage') {
                        await zk.sendMessage(zk.user.id, {
                            text: notification + `*Message:* ${deletedMessage.message[mtype].text}\n\n> ᴘᴏᴡᴇʀᴇᴅ ʙʏ ᴘᴏᴘᴋɪᴅ ʜᴀᴄᴋɪɴɢ ᴛᴇᴀᴍ.`,
                            mentions: [deletedMessage.key.participant],
                        });
                    }
                    // Handle media messages (image, video, document, audio, sticker, voice)
                    else if (mtype === 'imageMessage' || mtype === 'videoMessage' || mtype === 'documentMessage' ||
                             mtype === 'audioMessage' || mtype === 'stickerMessage' || mtype === 'voiceMessage') {
                        const mediaBuffer = await downloadMedia(deletedMessage.message);
                        if (mediaBuffer) {
                            const mediaType = mtype.replace('Message', '').toLowerCase();
                            await zk.sendMessage(zk.user.id, {
                                [mediaType]: mediaBuffer,
                                caption: notification,
                                mentions: [deletedMessage.key.participant],
                            });
                        }
                    }
                } catch (error) {
                    console.error('Error handling deleted message:', error);
                }
            }
        }
    }
});

        // Event listener for all incoming messages
zk.ev.on("messages.upsert", async (m) => {
    // Check if ANTIDELETE is enabled
    if (conf.ADMGROUP === "yes") {
        const { messages } = m;
        const ms = messages[0];
        if (!ms.message) return;

        // Store each received message
        const messageKey = ms.key;
        const remoteJid = messageKey.remoteJid;

        // Store message for future undelete reference
        if (!store.chats[remoteJid]) {
            store.chats[remoteJid] = [];
        }

        // Save the received message to storage
        store.chats[remoteJid].push(ms);

        // Handle deleted messages
        if (ms.message.protocolMessage && ms.message.protocolMessage.type === 0) {
            const deletedKey = ms.message.protocolMessage.key;

            // Search for the deleted message in the stored messages
            const chatMessages = store.chats[remoteJid];
            const deletedMessage = chatMessages.find(
                (msg) => msg.key.id === deletedKey.id
            );

            if (deletedMessage) {
                try {
                    // Create notification about the deleted message
                    const notification = createNotification(deletedMessage);

                    // Resend deleted content based on its type
                    if (deletedMessage.message.conversation) {
                        // Text message
                        await zk.sendMessage(remoteJid, {
                            text: notification + `*📖Deleted Message:* ${deletedMessage.message.conversation}\n\n> ᴘᴏᴡᴇʀᴇᴅ ʙʏ ᴘᴏᴘᴋɪᴅ ʜᴀᴄᴋɪɴɢ ᴛᴇᴀᴍ.`,
                            mentions: [deletedMessage.key.participant],
                        });
                    } else if (deletedMessage.message.imageMessage || 
                               deletedMessage.message.videoMessage || 
                               deletedMessage.message.documentMessage || 
                               deletedMessage.message.audioMessage || 
                               deletedMessage.message.stickerMessage || 
                               deletedMessage.message.voiceMessage) {
                        // Media message (image, video, document, audio, sticker, voice)
                        const mediaBuffer = await downloadMedia(deletedMessage.message);
                        if (mediaBuffer) {
                            const mediaType = deletedMessage.message.imageMessage ? 'image' :
                                deletedMessage.message.videoMessage ? 'video' :
                                deletedMessage.message.documentMessage ? 'document' :
                                deletedMessage.message.audioMessage ? 'audio' :
                                deletedMessage.message.stickerMessage ? 'sticker' : 'audio';

                            await zk.sendMessage(remoteJid, {
                                [mediaType]: mediaBuffer,
                                caption: notification,
                                mentions: [deletedMessage.key.participant],
                            });
                        }
                    }
                } catch (error) {
                    console.error('Error handling deleted message:', error);
                }
            }
        }
    }
});

                   
   const delay = ms => new Promise(resolve => setTimeout(resolve, ms));

// Track the last reaction time to prevent overflow
let lastReactionTime = 0;
        /*// Auto-react to status updates, handling each status one-by-one without tracking
if (conf.AUTO_LIKE_STATUS === "yes") {
    console.log("AUTO_LIKE_STATUS is enabled. Listening for status updates...");

    zk.ev.on("messages.upsert", async (m) => {
        const { messages } = m;

        for (const message of messages) {
            // Check if the message is a status update
            if (message.key && message.key.remoteJid === "status@broadcast") {
                console.log("Detected status update from:", message.key.remoteJid);

                // Ensure throttling by checking the last reaction time
                const now = Date.now();
                if (now - lastReactionTime < 5000) {  // 5-second interval
                    console.log("Throttling reactions to prevent overflow.");
                    continue;
                }

                // Check if bot user ID is available
                const beltah = zk.user && zk.user.id ? zk.user.id.split(":")[0] + "@s.whatsapp.net" : null;
                if (!beltah) {
                    console.log("Bot's user ID not available. Skipping reaction.");
                    continue;
                }

                // React to the status with a green heart
                await zk.sendMessage(message.key.remoteJid, {
                    react: {
                        key: message.key,
                        text: "🖤", // Reaction emoji
                    },
                }, {
                    statusJidList: [message.key.participant, beltah],
                });

                // Log successful reaction and update the last reaction time
                lastReactionTime = Date.now();
                console.log(`Successfully reacted to status update by ${message.key.remoteJid}`);

                // Delay to avoid rapid reactions
                await delay(2000); // 2-second delay between reactions
            }
        }
    });
                                }*/
        // Auto-react to status updates, handling each status one-by-one without tracking
if (conf.AUTO_REACT_STATUS === "yes") {
    zk.ev.on("messages.upsert", async (m) => {
        const { messages } = m;
        
        for (const message of messages) {
            if (message.key && message.key.remoteJid === "status@broadcast") {
                try {
                    const adams = zk.user && zk.user.id ? zk.user.id.split(":")[0] + "@s.whatsapp.net" : null;

                    if (adams) {
                        // React to the status with a green heart
                        await zk.sendMessage(message.key.remoteJid, {
                            react: {
                                key: message.key,
                                text: "💝",
                            },
                        }, {
                            statusJidList: [message.key.participant, adams],
                        });

                        // Introduce a short delay between each reaction to prevent overflow
                        await new Promise(resolve => setTimeout(resolve, 2000)); // 2-second delay
                    }
                } catch (error) {
                    console.error("Error decoding JID or sending message:", error);
                }
            }
        }
    });
                                            }
        
        zk.ev.on("messages.upsert", async (m) => {
            const { messages } = m;
            const ms = messages[0];
            if (!ms.message)
                return;
            const decodeJid = (jid) => {
                if (!jid)
                    return jid;
                if (/:\d+@/gi.test(jid)) {
                    let decode = (0, baileys_1.jidDecode)(jid) || {};
                    return decode.user && decode.server && decode.user + '@' + decode.server || jid;
                }
                else
                    return jid;
            };
            var mtype = (0, baileys_1.getContentType)(ms.message);
            var texte = mtype == "conversation" ? ms.message.conversation : mtype == "imageMessage" ? ms.message.imageMessage?.caption : mtype == "videoMessage" ? ms.message.videoMessage?.caption : mtype == "extendedTextMessage" ? ms.message?.extendedTextMessage?.text : mtype == "buttonsResponseMessage" ?
                ms?.message?.buttonsResponseMessage?.selectedButtonId : mtype == "listResponseMessage" ?
                ms.message?.listResponseMessage?.singleSelectReply?.selectedRowId : mtype == "messageContextInfo" ?
                (ms?.message?.buttonsResponseMessage?.selectedButtonId || ms.message?.listResponseMessage?.singleSelectReply?.selectedRowId || ms.text) : "";
            var origineMessage = ms.key.remoteJid;
            var idBot = decodeJid(zk.user.id);
            var servBot = idBot.split('@')[0];
            /* const dj='22559763447';
             const dj2='2250143343357';
             const luffy='22891733300'*/
            /*  var superUser=[servBot,dj,dj2,luffy].map((s)=>s.replace(/[^0-9]/g)+"@s.whatsapp.net").includes(auteurMessage);
              var dev =[dj,dj2,luffy].map((t)=>t.replace(/[^0-9]/g)+"@s.whatsapp.net").includes(auteurMessage);*/
            const verifGroupe = origineMessage?.endsWith("@g.us");
            var infosGroupe = verifGroupe ? await zk.groupMetadata(origineMessage) : "";
            var nomGroupe = verifGroupe ? infosGroupe.subject : "";
            var msgRepondu = ms.message.extendedTextMessage?.contextInfo?.quotedMessage;
            var auteurMsgRepondu = decodeJid(ms.message?.extendedTextMessage?.contextInfo?.participant);
            //ms.message.extendedTextMessage?.contextInfo?.mentionedJid
            // ms.message.extendedTextMessage?.contextInfo?.quotedMessage.
            var mr = ms.message?.extendedTextMessage?.contextInfo?.mentionedJid;
            var utilisateur = mr ? mr : msgRepondu ? auteurMsgRepondu : "";
            var auteurMessage = verifGroupe ? (ms.key.participant ? ms.key.participant : ms.participant) : origineMessage;
            if (ms.key.fromMe) {
                auteurMessage = idBot;
            }
            
            var membreGroupe = verifGroupe ? ms.key.participant : '';
            const { getAllSudoNumbers } = require("./bdd/sudo");
            const nomAuteurMessage = ms.pushName;
            const dj = '254111385747';
            const dj2 = '254732297194';
            const dj3 = "254748851027";
            const luffy = '254114141192';
            const sudo = await getAllSudoNumbers();
            let goat = "254732297194";
            const superUserNumbers = [servBot, goat, dj, dj2, dj3, luffy, conf.NUMERO_OWNER].map((s) => s.replace(/[^0-9]/g) + "@s.whatsapp.net");
            const allAllowedNumbers = superUserNumbers.concat(sudo);
            const superUser = allAllowedNumbers.includes(auteurMessage);
            
            var dev = [dj, dj2,dj3,luffy].map((t) => t.replace(/[^0-9]/g) + "@s.whatsapp.net").includes(auteurMessage);
            function repondre(mes) { zk.sendMessage(origineMessage, { text: mes }, { quoted: ms }); }
            console.log("\t [][]...{popkid-Md}...[][]");
            console.log("=========== New message ===========");
            if (verifGroupe) {
                console.log("message sent from : " + nomGroupe);
            }
            console.log("message from : " + "[" + nomAuteurMessage + " : " + auteurMessage.split("@s.whatsapp.net")[0] + " ]");
            console.log("type of message : " + mtype);
            console.log("------end of your messages ------");
            console.log(texte);
            /**  */
            function groupeAdmin(membreGroupe) {
                let admin = [];
                for (m of membreGroupe) {
                    if (m.admin == null)
                        continue;
                    admin.push(m.id);
                }
                // else{admin= false;}
                return admin;
            }

            var etat =conf.ETAT;
            if(etat==1)
            {await zk.sendPresenceUpdate("available",origineMessage);}
            else if(etat==2)
            {await zk.sendPresenceUpdate("composing",origineMessage);}
            else if(etat==3)
            {
            await zk.sendPresenceUpdate("recording",origineMessage);
            }
            else
            {
                await zk.sendPresenceUpdate("unavailable",origineMessage);
            }

            const mbre = verifGroupe ? await infosGroupe.participants : '';
            //  const verifAdmin = verifGroupe ? await mbre.filter(v => v.admin !== null).map(v => v.id) : ''
            let admins = verifGroupe ? groupeAdmin(mbre) : '';
            const verifAdmin = verifGroupe ? admins.includes(auteurMessage) : false;
            var verifZokouAdmin = verifGroupe ? admins.includes(idBot) : false;
            /** ** */
            /** ***** */
            const arg = texte ? texte.trim().split(/ +/).slice(1) : null;
            const verifCom = texte ? texte.startsWith(prefixe) : false;
            const com = verifCom ? texte.slice(1).trim().split(/ +/).shift().toLowerCase() : false;
           
         
            const lien = conf.URL.split(',')  

            
            // Utiliser une boucle for...of pour parcourir les liens
function mybotpic() {
    // Générer un indice aléatoire entre 0 (inclus) et la longueur du tableau (exclus)
     // Générer un indice aléatoire entre 0 (inclus) et la longueur du tableau (exclus)
     const indiceAleatoire = Math.floor(Math.random() * lien.length);
     // Récupérer le lien correspondant à l'indice aléatoire
     const lienAleatoire = lien[indiceAleatoire];
     return lienAleatoire;
  }
            var commandeOptions = {
                superUser, dev,
                verifGroupe,
                mbre,
                membreGroupe,
                verifAdmin,
                infosGroupe,
                nomGroupe,
                auteurMessage,
                nomAuteurMessage,
                idBot,
                verifZokouAdmin,
                prefixe,
                arg,
                repondre,
                mtype,
                groupeAdmin,
                msgRepondu,
                auteurMsgRepondu,
                ms,
                mybotpic
            
            };
                 
// POPKID MD DID EVERYTHING ,,,DO NOT COPY ...
if (!superUser && origineMessage  === auteurMessage && conf.AUTO_REACT === "yes") {
const emojis = ['👣', '🏗️', '✈️', '🌽', '🏸', '🛖', '🍁', '🛰️', '🥔', '🎡', '🎸', '🎼', '🔉', '📿', '🪇', '📹', '🎞️', '🪔', '📔', '🏷️', '💰', '📥', '🗳️', '📭', '🖌️', '📏', '', '🪛', '🔨', '⛓️‍💥', '📌', '🗝️', '🔍', '🥁', '🔊', '🥾', '👢', '🩰', '👡', '🙂', '🎊', '🎉', '🎁', '⛑️', '👋']
         const emokis = emojis[Math.floor(Math.random() * (emojis.length))]
         zk.sendMessage(origineMessage, {
             react: {
                 text: emokis,
                 key: ms.key
             }
         })
}
            // AUTO_READ_MESSAGES: Automatically mark messages as read if enabled.
      if (conf.AUTO_READ_MESSAGES === "yes") {
        zk.ev.on("messages.upsert", async m => {
          const {
            messages
          } = m;
          for (const message of messages) {
            if (!message.key.fromMe) {
              await zk.readMessages([message.key]);
            }
          }
        });
      }
              // Handle viewOnce messages
if (ms.message?.viewOnceMessage || ms.message?.viewOnceMessageV2 || ms.message?.viewOnceMessageV2Extension) {
  if (conf.ANTIVV.toLowerCase() === "yes" && !ms.key.fromMe) {
    const messageContent = ms.message[mtype];

    // Check if the message is an image
    if (messageContent.imageMessage) {
      const imageUrl = await zk.downloadAndSaveMediaMessage(messageContent.imageMessage);
      const imageCaption = messageContent.imageMessage.caption;

      const imageMessage = {
        image: { url: imageUrl },
        caption: imageCaption
      };

      const quotedMessage = { quoted: ms };
      await zk.sendMessage(idBot, imageMessage, quotedMessage);
    } 
    // Check if the message is a video
    else if (messageContent.videoMessage) {
      const videoUrl = await zk.downloadAndSaveMediaMessage(messageContent.videoMessage);
      const videoCaption = messageContent.videoMessage.caption;

      const videoMessage = {
        video: { url: videoUrl },
        caption: videoCaption
      };

      const quotedMessage = { quoted: ms };
      await zk.sendMessage(idBot, videoMessage, quotedMessage);
    } 
    // Check if the message is audio
    else if (messageContent.audioMessage) {
      const audioUrl = await zk.downloadAndSaveMediaMessage(messageContent.audioMessage);

      const audioMessage = {
        audio: { url: audioUrl },
        mymetype: "audio/mp4"
      };

      const quotedMessage = { quoted: ms, ptt: false };
      await zk.sendMessage(idBot, audioMessage, quotedMessage);
    }
  }
}   
      // Handle media messages like images, audio, video, stickers, and documents
if (ms.message?.imageMessage || ms.message?.audioMessage || ms.message?.videoMessage || ms.message?.stickerMessage || ms.message?.documentMessage) {
  let isSpam;

  // Check if antispam data exists in cache
  if (ms.has("antispam")) {
    isSpam = ms.get("antispam").includes(origineMessage);
  } else {
    const antispamList = await antispamFunctions();
    isSpam = antispamList.includes(origineMessage);
    ms.set("antispam", antispamList);
  }

  // If the message is considered spam, handle it
  if (verifGroupe && isSpam && !superUser && !verifAdmin) {
    console.warn("------------------Media------sent--------------------");

    // Retrieve the list of spammers for a given user
    const spamList = spamCache.get(auteurMessage + '_' + origineMessage);
    if (spamList) {
      if (spamList.length >= 4) {
        spamList.push(ms.key);

        // Delete all spam messages from the group
        spamList.forEach(spamKey => {
          const deleteMessage = { delete: spamKey };
          zk.sendMessage(origineMessage, deleteMessage);
        });

        // Remove the user from the group and send a notification
        zk.groupParticipantsUpdate(origineMessage, [auteurMessage], "remove").then(() => {
          zk.sendMessage(origineMessage, {
            text: '@' + auteurMessage.split('@')[0] + " removed because of spamming in group",
            mentions: [auteurMessage]
          });
        }).catch(err => console.log(err));
      } else {
        // Add the current message to the spam list
        spamList.push(ms.key);
        spamCache.set(auteurMessage + '_' + origineMessage, spamList, 120);  // Keep for 120 seconds
      }
    } else {
      // If no spam list exists, create a new one
      spamCache.set(auteurMessage + '_' + origineMessage, [ms.key]);
    }
  }
}

                  // ANTILINK feature: Detect group links and take actions
if (conf.ANTILINK === "yes") {
  zk.ev.on("messages.upsert", async (m) => {
    const { messages } = m;
    const ms = messages[0];
    if (!ms.message) {
      return;
    }

    // Extract message content
    const texte = ms.message.conversation || ms.message.extendedTextMessage?.text || "";
    const messageKey = ms.key;
    const remoteJid = messageKey.remoteJid;

    // Ensure there is a chat history to store the message
    if (!store.chats[remoteJid]) {
      store.chats[remoteJid] = [];
    }
    store.chats[remoteJid].push(ms);

    // Check if the message contains a WhatsApp group link
    if (texte.includes("chat.whatsapp.com") && !conf.superUser.includes(ms.key.participant) &&
      conf.verifAdmin && !conf.groupeAdmin.includes(ms.key.participant) && ms.key.remoteJid.includes("@g.us")) {

      // Respond to the message
      repondre("_Group link detected_");

      const participant = ms.key.participant || ms.key.remoteJid;
      const chatId = ms.key.remoteJid;

      // Delete the message with the group link
      await zk.sendMessage(chatId, {
        delete: {
          remoteJid: chatId,
          fromMe: false,
          id: ms.key.id,
          participant: participant,
        }
      });

      // Remove the participant who sent the link
      await zk.groupParticipantsUpdate(chatId, [participant], 'remove');

      // Notify the group about the participant removal
      await zk.sendMessage(chatId, {
        text: `Removed!\n\n@${participant.split("@")[0]} sending group links is prohibited!`,
        contextInfo: {
          mentionedJid: [participant]
        }
      }, {
        quoted: ms
      });
    }
  });
                                   }


            /************************ anti-delete-message */

            if(ms.message.protocolMessage && ms.message.protocolMessage.type === 0 && (conf.ADM).toLocaleLowerCase() === 'yes' ) {

                if(ms.key.fromMe || ms.message.protocolMessage.key.fromMe) { console.log('Message delete about me') ; return }
        
                                console.log(`Message deleted`)
                                let key =  ms.message.protocolMessage.key ;
                                
        
                               try {
        
                                  let st = './store.json' ;
        
                                const data = fs.readFileSync(st, 'utf8');
        
                                const jsonData = JSON.parse(data);
        
                                    let message = jsonData.messages[key.remoteJid] ;
                                
                                    let msg ;
        
                                    for (let i = 0 ; i < message.length ; i++) {
        
                                        if (message[i].key.id === key.id) {
                                            
                                            msg = message[i] ;
        
                                            break 
                                        }
        
                                    } 
        
                                  //  console.log(msg)
        
                                    if(msg === null || !msg ||msg === 'undefined') {console.log('Message not found') ; return } 
        
                                await zk.sendMessage(idBot,{ image : { url : './media/deleted-message.jpg'},caption : `      𝐏𝐎𝐏𝐊𝐈𝐃-𝐌𝐃 𝐃𝐄𝐋𝐄𝐓𝐄𝐃 𝐈𝐍𝐅𝐎𝐑𝐌𝐀𝐓𝐈𝐎𝐍 \n Message from @${msg.key.participant.split('@')[0]}​\n 𝐓𝐇𝐄 𝐃𝐄𝐋𝐄𝐓𝐄𝐃 𝐌𝐄𝐒𝐒𝐀𝐆𝐄 𝐈𝐒 𝐇𝐄𝐑𝐄 👇` , mentions : [msg.key.participant]},)
                                .then( () => {
                                    zk.sendMessage(idBot,{forward : msg},{quoted : msg}) ;
                                })
                               
                              
        
                               } catch (e) {
                                    console.log(e)
                               }
                            }
        
            /** ****** gestion auto-status  */
            if (ms.key && ms.key.remoteJid === "status@broadcast" && conf.AUTO_READ_STATUS === "yes") {
                await zk.readMessages([ms.key]);
            }
            
            if (ms.key && ms.key.remoteJid === 'status@broadcast' && conf.AUTO_DOWNLOAD_STATUS === "yes") {
                /* await zk.readMessages([ms.key]);*/
                if (ms.message.extendedTextMessage) {
                    var stTxt = ms.message.extendedTextMessage.text;
                    await zk.sendMessage(idBot, { text: stTxt }, { quoted: ms });
                }
                else if (ms.message.imageMessage) {
                    var stMsg = ms.message.imageMessage.caption;
                    var stImg = await zk.downloadAndSaveMediaMessage(ms.message.imageMessage);
                    await zk.sendMessage(idBot, { image: { url: stImg }, caption: stMsg }, { quoted: ms });
                }
                else if (ms.message.videoMessage) {
                    var stMsg = ms.message.videoMessage.caption;
                    var stVideo = await zk.downloadAndSaveMediaMessage(ms.message.videoMessage);
                    await zk.sendMessage(idBot, {
                        video: { url: stVideo }, caption: stMsg
                    }, { quoted: ms });
                }
                /** *************** */
                // console.log("*nouveau status* ");
            }
            /** ******fin auto-status */
            if (!dev && origineMessage == "120363158701337904@g.us") {
                return;
            }
            
 //---------------------------------------rang-count--------------------------------
             if (texte && auteurMessage.endsWith("s.whatsapp.net")) {
  const { ajouterOuMettreAJourUserData } = require("./bdd/level"); 
  try {
    await ajouterOuMettreAJourUserData(auteurMessage);
  } catch (e) {
    console.error(e);
  }
              }
            
                /////////////////////////////   Mentions /////////////////////////////////////////
         
              try {
        
                if (ms.message[mtype].contextInfo.mentionedJid && (ms.message[mtype].contextInfo.mentionedJid.includes(idBot) ||  ms.message[mtype].contextInfo.mentionedJid.includes(conf.NUMERO_OWNER + '@s.whatsapp.net'))    /*texte.includes(idBot.split('@')[0]) || texte.includes(conf.NUMERO_OWNER)*/) {
            
                    if (origineMessage == "120363158701337904@g.us") {
                        return;
                    } ;
            
                    if(superUser) {console.log('hummm') ; return ;} 
                    
                    let mbd = require('./bdd/mention') ;
            
                    let alldata = await mbd.recupererToutesLesValeurs() ;
            
                        let data = alldata[0] ;
            
                    if ( data.status === 'non') { console.log('mention pas actifs') ; return ;}
            
                    let msg ;
            
                    if (data.type.toLocaleLowerCase() === 'image') {
            
                        msg = {
                                image : { url : data.url},
                                caption : data.message
                        }
                    } else if (data.type.toLocaleLowerCase() === 'video' ) {
            
                            msg = {
                                    video : {   url : data.url},
                                    caption : data.message
                            }
            
                    } else if (data.type.toLocaleLowerCase() === 'sticker') {
            
                        let stickerMess = new Sticker(data.url, {
                            pack: conf.NOM_OWNER,
                            type: StickerTypes.FULL,
                            categories: ["🤩", "🎉"],
                            id: "12345",
                            quality: 70,
                            background: "transparent",
                          });
            
                          const stickerBuffer2 = await stickerMess.toBuffer();
            
                          msg = {
                                sticker : stickerBuffer2 
                          }
            
                    }  else if (data.type.toLocaleLowerCase() === 'audio' ) {
            
                            msg = {
            
                                audio : { url : data.url } ,
                                mimetype:'audio/mp4',
                                 }
                        
                    }
            
                    zk.sendMessage(origineMessage,msg,{quoted : ms})
            
                }
            } catch (error) {
                
            } 


     //anti-lien
     try {
        const yes = await verifierEtatJid(origineMessage)
        if (texte.includes('https://') && verifGroupe &&  yes  ) {

         console.log("link detected")
            var verifZokAdmin = verifGroupe ? admins.includes(idBot) : false;
            
             if(superUser || verifAdmin || !verifZokAdmin  ) { console.log('I do nothing'); return};
                        
                                    const key = {
                                        remoteJid: origineMessage,
                                        fromMe: false,
                                        id: ms.key.id,
                                        participant: auteurMessage
                                    };
                                    var txt = "link detected!!\n";
                                   // txt += `message supprimé \n @${auteurMessage.split("@")[0]} rétiré du groupe.`;
                                    const gifLink = "https://raw.githubusercontent.com/djalega8000/Zokou-MD/main/media/remover.gif";
                                    var sticker = new Sticker(gifLink, {
                                        pack: 'Beltah-Md',
                                        author: conf.OWNER_NAME,
                                        type: StickerTypes.FULL,
                                        categories: ['🤩', '🎉'],
                                        id: '12345',
                                        quality: 50,
                                        background: '#000000'
                                    });
                                    await sticker.toFile("st1.webp");
                                    // var txt = `@${auteurMsgRepondu.split("@")[0]} a été rétiré du groupe..\n`
                                    var action = await recupererActionJid(origineMessage);

                                      if (action === 'remove') {

                                        txt += `message deleted \n @${auteurMessage.split("@")[0]} removed from group by Beltah.`;

                                    await zk.sendMessage(origineMessage, { sticker: fs.readFileSync("st1.webp") });
                                    (0, baileys_1.delay)(800);
                                    await zk.sendMessage(origineMessage, { text: txt, mentions: [auteurMessage] }, { quoted: ms });
                                    try {
                                        await zk.groupParticipantsUpdate(origineMessage, [auteurMessage], "remove");
                                    }
                                    catch (e) {
                                        console.log("antiien ") + e;
                                    }
                                    await zk.sendMessage(origineMessage, { delete: key });
                                    await fs.unlink("st1.webp"); } 
                                        
                                       else if (action === 'delete') {
                                        txt += `message deleted \n @${auteurMessage.split("@")[0]} avoid sending link.`;
                                        // await zk.sendMessage(origineMessage, { sticker: fs.readFileSync("st1.webp") }, { quoted: ms });
                                       await zk.sendMessage(origineMessage, { text: txt, mentions: [auteurMessage] }, { quoted: ms });
                                       await zk.sendMessage(origineMessage, { delete: key });
                                       await fs.unlink("st1.webp");

                                    } else if(action === 'warn') {
                                        const {getWarnCountByJID ,ajouterUtilisateurAvecWarnCount} = require('./bdd/warn') ;

                            let warn = await getWarnCountByJID(auteurMessage) ; 
                            let warnlimit = conf.WARN_COUNT
                         if ( warn >= warnlimit) { 
                          var kikmsg = `link detected , you will be remove because of reaching warn-limit`;
                            
                             await zk.sendMessage(origineMessage, { text: kikmsg , mentions: [auteurMessage] }, { quoted: ms }) ;


                             await zk.groupParticipantsUpdate(origineMessage, [auteurMessage], "remove");
                             await zk.sendMessage(origineMessage, { delete: key });


                            } else {
                                var rest = warnlimit - warn ;
                              var  msg = `Link detected , your warn_count was upgrade ;\n rest : ${rest} `;

                              await ajouterUtilisateurAvecWarnCount(auteurMessage)

                              await zk.sendMessage(origineMessage, { text: msg , mentions: [auteurMessage] }, { quoted: ms }) ;
                              await zk.sendMessage(origineMessage, { delete: key });

                            }
                                    }
                                }
                                
                            }
                        
                    
                
            
        
    
    catch (e) {
        console.log("bdd err " + e);
    }
    


    /** *************************anti-bot******************************************** */
    try {
        const botMsg = ms.key?.id?.startsWith('BAES') && ms.key?.id?.length === 16;
        const baileysMsg = ms.key?.id?.startsWith('BAE5') && ms.key?.id?.length === 16;
        if (botMsg || baileysMsg) {

            if (mtype === 'reactionMessage') { console.log('I do not react to reactions') ; return} ;
            const antibotactiver = await atbverifierEtatJid(origineMessage);
            if(!antibotactiver) {return};

            if( verifAdmin || auteurMessage === idBot  ) { console.log('I do nothing'); return};
                        
            const key = {
                remoteJid: origineMessage,
                fromMe: false,
                id: ms.key.id,
                participant: auteurMessage
            };
            var txt = "bot detected, \n";
           // txt += `message supprimé \n @${auteurMessage.split("@")[0]} rétiré du groupe.`;
            const gifLink = "https://raw.githubusercontent.com/djalega8000/Zokou-MD/main/media/remover.gif";
            var sticker = new Sticker(gifLink, {
                pack: 'Beltah-Md',
                author: conf.OWNER_NAME,
                type: StickerTypes.FULL,
                categories: ['🤩', '🎉'],
                id: '12345',
                quality: 50,
                background: '#000000'
            });
            await sticker.toFile("st1.webp");
            // var txt = `@${auteurMsgRepondu.split("@")[0]} a été rétiré du groupe..\n`
            var action = await atbrecupererActionJid(origineMessage);

              if (action === 'remove') {

                txt += `message deleted \n @${auteurMessage.split("@")[0]} removed from group.`;

            await zk.sendMessage(origineMessage, { sticker: fs.readFileSync("st1.webp") });
            (0, baileys_1.delay)(800);
            await zk.sendMessage(origineMessage, { text: txt, mentions: [auteurMessage] }, { quoted: ms });
            try {
                await zk.groupParticipantsUpdate(origineMessage, [auteurMessage], "remove");
            }
            catch (e) {
                console.log("antibot ") + e;
            }
            await zk.sendMessage(origineMessage, { delete: key });
            await fs.unlink("st1.webp"); } 
                
               else if (action === 'delete') {
                txt += `message delete \n @${auteurMessage.split("@")[0]} Avoid sending link.`;
                //await zk.sendMessage(origineMessage, { sticker: fs.readFileSync("st1.webp") }, { quoted: ms });
               await zk.sendMessage(origineMessage, { text: txt, mentions: [auteurMessage] }, { quoted: ms });
               await zk.sendMessage(origineMessage, { delete: key });
               await fs.unlink("st1.webp");

            } else if(action === 'warn') {
                const {getWarnCountByJID ,ajouterUtilisateurAvecWarnCount} = require('./bdd/warn') ;

    let warn = await getWarnCountByJID(auteurMessage) ; 
    let warnlimit = conf.WARN_COUNT
 if ( warn >= warnlimit) { 
  var kikmsg = `bot detected ;you will be remove because of reaching warn-limit`;
    
     await zk.sendMessage(origineMessage, { text: kikmsg , mentions: [auteurMessage] }, { quoted: ms }) ;


     await zk.groupParticipantsUpdate(origineMessage, [auteurMessage], "remove");
     await zk.sendMessage(origineMessage, { delete: key });


    } else {
        var rest = warnlimit - warn ;
      var  msg = `bot detected , your warn_count was upgrade ;\n rest : ${rest} `;

      await ajouterUtilisateurAvecWarnCount(auteurMessage)

      await zk.sendMessage(origineMessage, { text: msg , mentions: [auteurMessage] }, { quoted: ms }) ;
      await zk.sendMessage(origineMessage, { delete: key });

    }
                }
        }
    }
    catch (er) {
        console.log('.... ' + er);
    }        
             
         
            /////////////////////////
            
            //execution des commandes   
            if (verifCom) {
                //await await zk.readMessages(ms.key);
                const cd = evt.cm.find((zokou) => zokou.nomCom === (com));
                if (cd) {
                    try {

            if ((conf.MODE).toLocaleLowerCase() != 'yes' && !superUser) {
                return;
            }

                         /******************* PM_PERMT***************/

            if (!superUser && origineMessage === auteurMessage&& conf.PM_PERMIT === "yes" ) {
                repondre("Access Denied!!!.") ; return }
            ///////////////////////////////

             
            /*****************************banGroup  */
            if (!superUser && verifGroupe) {

                 let req = await isGroupBanned(origineMessage);
                    
                        if (req) { return }
            }

              /***************************  ONLY-ADMIN  */

            if(!verifAdmin && verifGroupe) {
                 let req = await isGroupOnlyAdmin(origineMessage);
                    
                        if (req) {  return }}

              /**********************banuser */
         
            
                if(!superUser) {
                    let req = await isUserBanned(auteurMessage);
                    
                        if (req) {repondre("You are banned from bot commands"); return}
                    

                } 

                        reagir(origineMessage, zk, ms, cd.reaction);
                        cd.fonction(origineMessage, zk, commandeOptions);
                    }
                    catch (e) {
                        console.log("😡😡 " + e);
                        zk.sendMessage(origineMessage, { text: "😡😡 " + e }, { quoted: ms });
                    }
                }
            }
            //fin exécution commandes
        });
        //fin événement message

/******** evenement groupe update ****************/
const { recupevents } = require('./bdd/welcome'); 

zk.ev.on('group-participants.update', async (group) => {
    console.log(group);

    let ppgroup;
    try {
        ppgroup = await zk.profilePictureUrl(group.id, 'image');
    } catch {
        ppgroup = 'https://telegra.ph/file/dcce2ddee6cc7597c859a.jpg';
    }

    try {
        const metadata = await zk.groupMetadata(group.id);

        if (group.action == 'add' && (await recupevents(group.id, "welcome") == 'on')) {
            let msg = `👋 Hello
`;

            let membres = group.participants;
            for (let membre of membres) {
                msg += ` *@${membre.split("@")[0]}* Welcome to Our Official Group,`;
            }

            msg += `You might want to read the group Description to avoid getting removed...
> ᴘᴏᴡᴇʀᴇᴅ ʙʏ ᴘᴏᴘᴋɪᴅ ʜᴀᴄᴋɪɴɢ ᴛᴇᴀᴍ..`;

            zk.sendMessage(group.id, { image: { url: ppgroup }, caption: msg, mentions: membres });
        } else if (group.action == 'remove' && (await recupevents(group.id, "goodbye") == 'on')) {
            let msg = `Another fellah didn't feel safe here...;\n`;

            let membres = group.participants;
            for (let membre of membres) {
                msg += `@${membre.split("@")[0]} decided to leave the group.\n`;
            }

            zk.sendMessage(group.id, { text: msg, mentions: membres });

        } else if (group.action == 'promote' && (await recupevents(group.id, "antipromote") == 'on') ) {
            //  console.log(zk.user.id)
          if (group.author == metadata.owner || group.author  == conf.NUMERO_OWNER + '@s.whatsapp.net' || group.author == decodeJid(zk.user.id)  || group.author == group.participants[0]) { console.log('Cas de superUser je fais rien') ;return ;} ;


         await   zk.groupParticipantsUpdate(group.id ,[group.author,group.participants[0]],"demote") ;

         zk.sendMessage(
              group.id,
              {
                text : `@${(group.author).split("@")[0]} has violated the anti-promotion rule, therefore both ${group.author.split("@")[0]} and @${(group.participants[0]).split("@")[0]} have been removed from administrative rights.`,
                mentions : [group.author,group.participants[0]]
              }
         )

        } else if (group.action == 'demote' && (await recupevents(group.id, "antidemote") == 'on') ) {

            if (group.author == metadata.owner || group.author ==  conf.NUMERO_OWNER + '@s.whatsapp.net' || group.author == decodeJid(zk.user.id) || group.author == group.participants[0]) { console.log('Cas de superUser je fais rien') ;return ;} ;


           await  zk.groupParticipantsUpdate(group.id ,[group.author],"demote") ;
           await zk.groupParticipantsUpdate(group.id , [group.participants[0]] , "promote")

           zk.sendMessage(
                group.id,
                {
                  text : `@${(group.author).split("@")[0]} has violated the anti-demotion rule by removing @${(group.participants[0]).split("@")[0]}. Consequently, he has been stripped of administrative rights.` ,
                  mentions : [group.author,group.participants[0]]
                }
           )

     } 

    } catch (e) {
        console.error(e);
    }
});

/******** fin d'evenement groupe update *************************/



    /*****************************Cron setup */

        
    async  function activateCrons() {
        const cron = require('node-cron');
        const { getCron } = require('./bdd/cron');

          let crons = await getCron();
          console.log(crons);
          if (crons.length > 0) {
        
            for (let i = 0; i < crons.length; i++) {
        
              if (crons[i].mute_at != null) {
                let set = crons[i].mute_at.split(':');

                console.log(`Establishment of one fall to ${crons[i].group_id} a ${set[0]} H ${set[1]}`)

                cron.schedule(`${set[1]} ${set[0]} * * *`, async () => {
                  await zk.groupSettingUpdate(crons[i].group_id, 'announcement');
                  zk.sendMessage(crons[i].group_id, { image : { url : './media/chrono.webp'} , caption: "Hello, it's time to close the group; my sayard." });

                }, {
                    timezone: "Africa/Nairobi"
                  });
              }
        
              if (crons[i].unmute_at != null) {
                let set = crons[i].unmute_at.split(':');

                console.log(`Establishment of a self -founder for ${set[0]} H ${set[1]} `)
        
                cron.schedule(`${set[1]} ${set[0]} * * *`, async () => {

                  await zk.groupSettingUpdate(crons[i].group_id, 'not_announcement');

                  zk.sendMessage(crons[i].group_id, { image : { url : './media/chrono.webp'} , caption: "Good morning; It's time to open the group." });

                 
                },{
                    timezone: "Africa/Nairobi"
                  });
              }
        
            }
          } else {
            console.log('The creams were not activated');
          }

          return
        }

        
        //événement contact
        zk.ev.on("contacts.upsert", async (contacts) => {
            const insertContact = (newContact) => {
                for (const contact of newContact) {
                    if (store.contacts[contact.id]) {
                        Object.assign(store.contacts[contact.id], contact);
                    }
                    else {
                        store.contacts[contact.id] = contact;
                    }
                }
                return;
            };
            insertContact(contacts);
        });
        //fin événement contact 
        //événement connexion
        zk.ev.on("connection.update", async (con) => {
            const { lastDisconnect, connection } = con;
            if (connection === "connecting") {
                console.log("ℹ️ Popkid md connecting in your account...");
            }
            else if (connection === 'open') {
                console.log("✅ Popkid Md connected successfully☺️");
                console.log("--");
                await (0, baileys_1.delay)(200);
                console.log("------");
                await (0, baileys_1.delay)(300);
                console.log("------------------/-----");
                console.log(" Popkid-md loading plugins😇\n\n");
                //chargement des commandes 
                console.log("chargement des plugins ...\n");
                fs.readdirSync(__dirname + "/commandes").forEach((fichier) => {
                    if (path.extname(fichier).toLowerCase() == (".js")) {
                        try {
                            require(__dirname + "/commandes/" + fichier);
                            console.log(fichier + " Loaded successfully by Popkid✔️");
                        }
                        catch (e) {
                            console.log(`${fichier} could not be loaded for the following reasons : ${e}`);
                        } /* require(__dirname + "/commandes/" + fichier);
                         console.log(fichier + " installé ✔️")*/
                        (0, baileys_1.delay)(300);
                    }
                });
                (0, baileys_1.delay)(700);
                var md;
                if ((conf.MODE).toLocaleLowerCase() === "yes") {
                    md = "public";
                }
                else if ((conf.MODE).toLocaleLowerCase() === "no") {
                    md = "private";
                }
                else {
                    md = "undefined";
                }
                console.log("Popkid md successfully connected✅");

                await activateCrons();
                
                if((conf.DP).toLowerCase() === 'yes') {     
                let cmsg = `ᴘᴏᴘᴋɪᴅ xᴛᴇᴄʜ ɪs ᴄᴏɴɴᴇᴄᴛᴇᴅ

ᴍᴏᴅᴇ :${md}
ᴘʀᴇғɪx : [ ${prefixe} ]
ᴘʟᴜɢɪɴs :456
ᴅᴇᴠᴇʟᴏᴘᴇʀ : ᴘᴏᴘᴋɪᴅ ᴛᴇᴄʜ 👻

ᴡᴀᴛᴄʜ ᴀʟʟ ᴛᴜᴛᴏʀɪᴀʟs
youtube.com/@Popkid2024`;
                await zk.sendMessage( zk.user.id, { text: cmsg });
                }
            }
            else if (connection == "close") {
                let raisonDeconnexion = new boom_1.Boom(lastDisconnect?.error)?.output.statusCode;
                if (raisonDeconnexion === baileys_1.DisconnectReason.badSession) {
                    console.log('Wrong session Id format, rescan again...');
                }
                else if (raisonDeconnexion === baileys_1.DisconnectReason.connectionClosed) {
                    console.log('!!! Closed connection, current reconnection ...');
                    main();
                }
                else if (raisonDeconnexion === baileys_1.DisconnectReason.connectionLost) {
                    console.log('connection error😞 ,,popkid trying to reconnect... ');
                    main();
                }
                else if (raisonDeconnexion === baileys_1.DisconnectReason?.connectionReplaced) {
                    console.log('Connection replaced ,,, a session is already open please the farm please !!!');
                }
                else if (raisonDeconnexion === baileys_1.DisconnectReason.loggedOut) {
                    console.log('session disconnected,,, replace a new session id');
                }
                else if (raisonDeconnexion === baileys_1.DisconnectReason.restartRequired) {
                    console.log('Restarting in progress ▶ ️');
                    main();
                }   else {

                    console.log('restarting on the error stroke ',raisonDeconnexion) ;         
                    //repondre("* Redémarrage du bot en cour ...*");

                                const {exec}=require("child_process") ;

                                exec("pm2 restart all");            
                }
                // sleep(50000)
                console.log("hum " + connection);
                main(); //console.log(session)
            }
        });
        //fin événement connexion
        //événement authentification 
        zk.ev.on("creds.update", saveCreds);
        //fin événement authentification 
        //
        /** ************* */
        //fonctions utiles
        zk.downloadAndSaveMediaMessage = async (message, filename = '', attachExtension = true) => {
            let quoted = message.msg ? message.msg : message;
            let mime = (message.msg || message).mimetype || '';
            let messageType = message.mtype ? message.mtype.replace(/Message/gi, '') : mime.split('/')[0];
            const stream = await (0, baileys_1.downloadContentFromMessage)(quoted, messageType);
            let buffer = Buffer.from([]);
            for await (const chunk of stream) {
                buffer = Buffer.concat([buffer, chunk]);
            }
            let type = await FileType.fromBuffer(buffer);
            let trueFileName = './' + filename + '.' + type.ext;
            // save to file
            await fs.writeFileSync(trueFileName, buffer);
            return trueFileName;
        };


        zk.awaitForMessage = async (options = {}) =>{
            return new Promise((resolve, reject) => {
                if (typeof options !== 'object') reject(new Error('Options must be an object'));
                if (typeof options.sender !== 'string') reject(new Error('Sender must be a string'));
                if (typeof options.chatJid !== 'string') reject(new Error('ChatJid must be a string'));
                if (options.timeout && typeof options.timeout !== 'number') reject(new Error('Timeout must be a number'));
                if (options.filter && typeof options.filter !== 'function') reject(new Error('Filter must be a function'));
        
                const timeout = options?.timeout || undefined;
                const filter = options?.filter || (() => true);
                let interval = undefined
        
                /**
                 * 
                 * @param {{messages: Baileys.proto.IWebMessageInfo[], type: Baileys.MessageUpsertType}} data 
                 */
                let listener = (data) => {
                    let { type, messages } = data;
                    if (type == "notify") {
                        for (let message of messages) {
                            const fromMe = message.key.fromMe;
                            const chatId = message.key.remoteJid;
                            const isGroup = chatId.endsWith('@g.us');
                            const isStatus = chatId == 'status@broadcast';
        
                            const sender = fromMe ? zk.user.id.replace(/:.*@/g, '@') : (isGroup || isStatus) ? message.key.participant.replace(/:.*@/g, '@') : chatId;
                            if (sender == options.sender && chatId == options.chatJid && filter(message)) {
                                zk.ev.off('messages.upsert', listener);
                                clearTimeout(interval);
                                resolve(message);
                            }
                        }
                    }
                }
                zk.ev.on('messages.upsert', listener);
                if (timeout) {
                    interval = setTimeout(() => {
                        zk.ev.off('messages.upsert', listener);
                        reject(new Error('Timeout'));
                    }, timeout);
                }
            });
        }



        // fin fonctions utiles
        /** ************* */
        return zk;
    }
    let fichier = require.resolve(__filename);
    fs.watchFile(fichier, () => {
        fs.unwatchFile(fichier);
        console.log(`update ${__filename}`);
        delete require.cache[fichier];
        require(fichier);
    });
    main();
}, 5000);
